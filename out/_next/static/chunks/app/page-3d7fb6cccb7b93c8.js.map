{"version":3,"file":"static/chunks/app/page-3d7fb6cccb7b93c8.js","mappings":"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","sources":["webpack://_N_E/?9e3d","webpack://_N_E/./lib/utils.ts","webpack://_N_E/./components/ui/button.tsx","webpack://_N_E/./components/ui/card.tsx","webpack://_N_E/./components/ui/tabs.tsx","webpack://_N_E/./components/ui/input.tsx","webpack://_N_E/./components/ui/label.tsx","webpack://_N_E/./components/ui/select.tsx","webpack://_N_E/./components/ui/switch.tsx","webpack://_N_E/./components/ui/table.tsx","webpack://_N_E/./components/ui/dialog.tsx","webpack://_N_E/./components/ui/badge.tsx","webpack://_N_E/./lib/firebase.ts","webpack://_N_E/./components/ClientAnalyticsFilters.tsx","webpack://_N_E/./components/useClientActiveCountries.tsx","webpack://_N_E/./components/ModernScheduleMaker.tsx"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/Users/ahmedesslaouibribri/Documents/ShiftsMaker-main/components/ModernScheduleMaker.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/ahmedesslaouibribri/Documents/ShiftsMaker-main/node_modules/next/dist/client/image-component.js\");\n","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst buttonVariants = cva(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", {\n  variants: {\n    variant: {\n      default: \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n      destructive: \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n      outline: \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      secondary: \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n      ghost: \"hover:bg-accent hover:text-accent-foreground\",\n      link: \"text-primary underline-offset-4 hover:underline\"\n    },\n    size: {\n      default: \"h-9 px-4 py-2\",\n      sm: \"h-8 rounded-md px-3 text-xs\",\n      lg: \"h-10 rounded-md px-8\",\n      icon: \"h-9 w-9\"\n    }\n  },\n  defaultVariants: {\n    variant: \"default\",\n    size: \"default\"\n  }\n});\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement>, VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n  return <Comp className={cn(buttonVariants({\n    variant,\n    size,\n    className\n  }))} ref={ref} {...props} />;\n});\nButton.displayName = \"Button\";\nexport { Button, buttonVariants };","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({\n  className,\n  ...props\n}, ref) => <div ref={ref} className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)} {...props} />);\nCard.displayName = \"Card\";\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({\n  className,\n  ...props\n}, ref) => <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />);\nCardHeader.displayName = \"CardHeader\";\nconst CardTitle = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({\n  className,\n  ...props\n}, ref) => <div ref={ref} className={cn(\"font-semibold leading-none tracking-tight\", className)} {...props} />);\nCardTitle.displayName = \"CardTitle\";\nconst CardDescription = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({\n  className,\n  ...props\n}, ref) => <div ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />);\nCardDescription.displayName = \"CardDescription\";\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({\n  className,\n  ...props\n}, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />);\nCardContent.displayName = \"CardContent\";\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({\n  className,\n  ...props\n}, ref) => <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />);\nCardFooter.displayName = \"CardFooter\";\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };","\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { cn } from \"@/lib/utils\";\nconst Tabs = TabsPrimitive.Root;\nconst TabsList = React.forwardRef<React.ElementRef<typeof TabsPrimitive.List>, React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>>(({\n  className,\n  ...props\n}, ref) => <TabsPrimitive.List ref={ref} className={cn(\"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\", className)} {...props} />);\nTabsList.displayName = TabsPrimitive.List.displayName;\nconst TabsTrigger = React.forwardRef<React.ElementRef<typeof TabsPrimitive.Trigger>, React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>>(({\n  className,\n  ...props\n}, ref) => <TabsPrimitive.Trigger ref={ref} className={cn(\"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\", className)} {...props} />);\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\nconst TabsContent = React.forwardRef<React.ElementRef<typeof TabsPrimitive.Content>, React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>>(({\n  className,\n  ...props\n}, ref) => <TabsPrimitive.Content ref={ref} className={cn(\"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\", className)} {...props} />);\nTabsContent.displayName = TabsPrimitive.Content.displayName;\nexport { Tabs, TabsList, TabsTrigger, TabsContent };","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(({\n  className,\n  type,\n  ...props\n}, ref) => {\n  return <input type={type} className={cn(\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className)} ref={ref} {...props} />;\n});\nInput.displayName = \"Input\";\nexport { Input };","\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\nconst Label = React.forwardRef<React.ElementRef<typeof LabelPrimitive.Root>, React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>>(({\n  className,\n  ...props\n}, ref) => <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />);\nLabel.displayName = LabelPrimitive.Root.displayName;\nexport { Label };","\"use client\";\n\nimport * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Select = SelectPrimitive.Root;\nconst SelectGroup = SelectPrimitive.Group;\nconst SelectValue = SelectPrimitive.Value;\nconst SelectTrigger = React.forwardRef<React.ElementRef<typeof SelectPrimitive.Trigger>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>>(({\n  className,\n  children,\n  ...props\n}, ref) => <SelectPrimitive.Trigger ref={ref} className={cn(\"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\", className)} {...props}>\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>);\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\nconst SelectScrollUpButton = React.forwardRef<React.ElementRef<typeof SelectPrimitive.ScrollUpButton>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>>(({\n  className,\n  ...props\n}, ref) => <SelectPrimitive.ScrollUpButton ref={ref} className={cn(\"flex cursor-default items-center justify-center py-1\", className)} {...props}>\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>);\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\nconst SelectScrollDownButton = React.forwardRef<React.ElementRef<typeof SelectPrimitive.ScrollDownButton>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>>(({\n  className,\n  ...props\n}, ref) => <SelectPrimitive.ScrollDownButton ref={ref} className={cn(\"flex cursor-default items-center justify-center py-1\", className)} {...props}>\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>);\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\nconst SelectContent = React.forwardRef<React.ElementRef<typeof SelectPrimitive.Content>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>>(({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}, ref) => <SelectPrimitive.Portal>\n    <SelectPrimitive.Content ref={ref} className={cn(\"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\", position === \"popper\" && \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\", className)} position={position} {...props}>\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport className={cn(\"p-1\", position === \"popper\" && \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\")}>\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>);\nSelectContent.displayName = SelectPrimitive.Content.displayName;\nconst SelectLabel = React.forwardRef<React.ElementRef<typeof SelectPrimitive.Label>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>>(({\n  className,\n  ...props\n}, ref) => <SelectPrimitive.Label ref={ref} className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)} {...props} />);\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\nconst SelectItem = React.forwardRef<React.ElementRef<typeof SelectPrimitive.Item>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>>(({\n  className,\n  children,\n  ...props\n}, ref) => <SelectPrimitive.Item ref={ref} className={cn(\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className)} {...props}>\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>);\nSelectItem.displayName = SelectPrimitive.Item.displayName;\nconst SelectSeparator = React.forwardRef<React.ElementRef<typeof SelectPrimitive.Separator>, React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>>(({\n  className,\n  ...props\n}, ref) => <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />);\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\nexport { Select, SelectGroup, SelectValue, SelectTrigger, SelectContent, SelectLabel, SelectItem, SelectSeparator, SelectScrollUpButton, SelectScrollDownButton };","\"use client\";\n\nimport * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\nimport { cn } from \"@/lib/utils\";\nconst Switch = React.forwardRef<React.ElementRef<typeof SwitchPrimitives.Root>, React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>>(({\n  className,\n  ...props\n}, ref) => <SwitchPrimitives.Root className={cn(\"peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\", className)} {...props} ref={ref}>\n    <SwitchPrimitives.Thumb className={cn(\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\")} />\n  </SwitchPrimitives.Root>);\nSwitch.displayName = SwitchPrimitives.Root.displayName;\nexport { Switch };","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Table = React.forwardRef<HTMLTableElement, React.HTMLAttributes<HTMLTableElement>>(({\n  className,\n  ...props\n}, ref) => <div className=\"relative w-full overflow-auto\">\n    <table ref={ref} className={cn(\"w-full caption-bottom text-sm\", className)} {...props} />\n  </div>);\nTable.displayName = \"Table\";\nconst TableHeader = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(({\n  className,\n  ...props\n}, ref) => <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />);\nTableHeader.displayName = \"TableHeader\";\nconst TableBody = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(({\n  className,\n  ...props\n}, ref) => <tbody ref={ref} className={cn(\"[&_tr:last-child]:border-0\", className)} {...props} />);\nTableBody.displayName = \"TableBody\";\nconst TableFooter = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(({\n  className,\n  ...props\n}, ref) => <tfoot ref={ref} className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)} {...props} />);\nTableFooter.displayName = \"TableFooter\";\nconst TableRow = React.forwardRef<HTMLTableRowElement, React.HTMLAttributes<HTMLTableRowElement>>(({\n  className,\n  ...props\n}, ref) => <tr ref={ref} className={cn(\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\", className)} {...props} />);\nTableRow.displayName = \"TableRow\";\nconst TableHead = React.forwardRef<HTMLTableCellElement, React.ThHTMLAttributes<HTMLTableCellElement>>(({\n  className,\n  ...props\n}, ref) => <th ref={ref} className={cn(\"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\", className)} {...props} />);\nTableHead.displayName = \"TableHead\";\nconst TableCell = React.forwardRef<HTMLTableCellElement, React.TdHTMLAttributes<HTMLTableCellElement>>(({\n  className,\n  ...props\n}, ref) => <td ref={ref} className={cn(\"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\", className)} {...props} />);\nTableCell.displayName = \"TableCell\";\nconst TableCaption = React.forwardRef<HTMLTableCaptionElement, React.HTMLAttributes<HTMLTableCaptionElement>>(({\n  className,\n  ...props\n}, ref) => <caption ref={ref} className={cn(\"mt-4 text-sm text-muted-foreground\", className)} {...props} />);\nTableCaption.displayName = \"TableCaption\";\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };","\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\nconst DialogOverlay = React.forwardRef<React.ElementRef<typeof DialogPrimitive.Overlay>, React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>>(({\n  className,\n  ...props\n}, ref) => <DialogPrimitive.Overlay ref={ref} className={cn(\"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className)} {...props} />);\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\nconst DialogContent = React.forwardRef<React.ElementRef<typeof DialogPrimitive.Content>, React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>>(({\n  className,\n  children,\n  ...props\n}, ref) => <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content ref={ref} className={cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\", className)} {...props}>\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>);\nDialogContent.displayName = DialogPrimitive.Content.displayName;\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} data-sentry-component=\"DialogHeader\" data-sentry-source-file=\"dialog.tsx\" />;\nDialogHeader.displayName = \"DialogHeader\";\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} data-sentry-component=\"DialogFooter\" data-sentry-source-file=\"dialog.tsx\" />;\nDialogFooter.displayName = \"DialogFooter\";\nconst DialogTitle = React.forwardRef<React.ElementRef<typeof DialogPrimitive.Title>, React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>>(({\n  className,\n  ...props\n}, ref) => <DialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)} {...props} />);\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\nconst DialogDescription = React.forwardRef<React.ElementRef<typeof DialogPrimitive.Description>, React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>>(({\n  className,\n  ...props\n}, ref) => <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />);\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\nexport { Dialog, DialogPortal, DialogOverlay, DialogTrigger, DialogClose, DialogContent, DialogHeader, DialogFooter, DialogTitle, DialogDescription };","import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst badgeVariants = cva(\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\", {\n  variants: {\n    variant: {\n      default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n      secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n      destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n      outline: \"text-foreground\"\n    }\n  },\n  defaultVariants: {\n    variant: \"default\"\n  }\n});\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\nfunction Badge({\n  className,\n  variant,\n  ...props\n}: BadgeProps) {\n  return <div className={cn(badgeVariants({\n    variant\n  }), className)} {...props} data-sentry-component=\"Badge\" data-sentry-source-file=\"badge.tsx\" />;\n}\nexport { Badge, badgeVariants };","import { initializeApp } from \"firebase/app\";\nimport { \n  getFirestore, \n  doc, \n  setDoc, \n  getDoc, \n  collection, \n  getDocs,\n  enableIndexedDbPersistence,\n  CACHE_SIZE_UNLIMITED,\n  initializeFirestore,\n  runTransaction,\n  serverTimestamp\n} from \"firebase/firestore\";\nimport type { ShiftTable } from \"@/types/types\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCkZ4bkcG0_3zc2H5WYelYyMgBWxcwVM74\",\n  authDomain: \"shiftsmaker.firebaseapp.com\",\n  projectId: \"shiftsmaker\",\n  storageBucket: \"shiftsmaker.firebasestorage.app\",\n  messagingSenderId: \"53828147940\",\n  appId: \"1:53828147940:web:5e15d67b613567b1dfaaf1\",\n  measurementId: \"G-QF8D8ZX77M\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Firestore with settings for better offline support\nconst db = initializeFirestore(app, {\n  cacheSizeBytes: CACHE_SIZE_UNLIMITED\n});\n\n// Enable offline persistence\nenableIndexedDbPersistence(db).catch((err) => {\n  if (err.code === 'failed-precondition') {\n    // Multiple tabs open, persistence can only be enabled in one tab at a time.\n    console.log('Persistence failed: Multiple tabs open');\n  } else if (err.code === 'unimplemented') {\n    // The current browser doesn't support persistence\n    console.log('Persistence not supported by browser');\n  }\n});\n\nconst COLLECTION_NAME = 'shifts';\nconst DOCUMENT_ID = 'shiftTables';\nconst AGENTS_COLLECTION = 'agents';\nconst AGENTS_DOCUMENT = 'agentsList';\nconst DELETED_BACKUP_COLLECTION = 'deletedBackup';\n\n// Helper function to merge data intelligently\nfunction mergeData(currentData: any, newData: any) {\n  if (!currentData.tables || !newData.tables) {\n    return newData;\n  }\n\n  const currentTables = new Map(\n    currentData.tables.map((table: any) => [table.id, table])\n  );\n  const newTables = new Map(\n    newData.tables.map((table: any) => [table.id, table])\n  );\n\n  // Merge strategy: Keep the new tables, as they are the latest\n  return {\n    ...newData,\n    tables: Array.from(newTables.values())\n  };\n}\n\nexport async function saveToFirestore(data: any, collectionName: string, documentId: string) {\n  try {\n    const docRef = doc(db, collectionName, documentId);\n    \n    // Use transactions for all collections including shift tables\n    await runTransaction(db, async (transaction) => {\n      const docSnap = await transaction.get(docRef);\n      \n      if (!docSnap.exists()) {\n        // If document doesn't exist, create it\n        transaction.set(docRef, {\n          ...data,\n          lastModified: serverTimestamp()\n        });\n      } else {\n        const currentData = docSnap.data();\n        \n        // Special handling for shift tables\n        if (collectionName === COLLECTION_NAME) {\n          // Create maps of current and new tables using table IDs as keys\n          const currentTables = new Map(\n            (currentData.tables || []).map((table: any) => [table.id, table])\n          );\n          const newTables = new Map(\n            (data.tables || []).map((table: any) => [table.id, table])\n          );\n          \n          // Merge tables: For each table in the new data, update or add it\n          newTables.forEach((table, id) => {\n            currentTables.set(id, table);\n          });\n          \n          // Convert back to array and update\n          transaction.set(docRef, {\n            tables: Array.from(currentTables.values()),\n            lastModified: serverTimestamp()\n          });\n        } else {\n          // For other collections, use the existing merge strategy\n          const mergedData = mergeData(currentData, data);\n          transaction.set(docRef, {\n            ...mergedData,\n            lastModified: serverTimestamp()\n          });\n        }\n      }\n    });\n\n    console.log('✅ Data saved successfully to Firestore');\n  } catch (error) {\n    console.error('Error saving to Firestore:', error);\n    throw error;\n  }\n}\n\nexport async function loadFromFirestore(collectionName: string, documentId: string) {\n  try {\n    const docRef = doc(db, collectionName, documentId);\n    const docSnap = await getDoc(docRef);\n    \n    if (docSnap.exists()) {\n      const data = docSnap.data();\n      // Remove internal fields before returning\n      const { lastModified, ...cleanData } = data;\n      return cleanData;\n    } else {\n      console.log('No such document exists!');\n      return null;\n    }\n  } catch (error) {\n    console.error('Error loading from Firestore:', error);\n    throw error;\n  }\n}\n\nexport async function saveAgents(agents: Record<string, string[]>) {\n  try {\n    await saveToFirestore({ agents }, AGENTS_COLLECTION, AGENTS_DOCUMENT);\n    console.log('✅ Agents saved successfully to Firestore');\n  } catch (error) {\n    console.error('Error saving agents:', error);\n    throw error;\n  }\n}\n\nexport async function loadAgents(): Promise<Record<string, string[]>> {\n  try {\n    const data = await loadFromFirestore(AGENTS_COLLECTION, AGENTS_DOCUMENT);\n    return data?.agents || { Egypt: [], Morocco: [] };\n  } catch (error) {\n    console.error('Error loading agents:', error);\n    return { Egypt: [], Morocco: [] };\n  }\n}\n\nexport async function saveShiftTables(tables: ShiftTable[]) {\n  try {\n    await saveToFirestore({ tables }, COLLECTION_NAME, DOCUMENT_ID);\n    console.log('✅ Shift tables saved successfully to Firestore');\n  } catch (error) {\n    console.error('Error saving shift tables:', error);\n    throw error;\n  }\n}\n\nexport async function loadShiftTables(): Promise<ShiftTable[]> {\n  try {\n    const data = await loadFromFirestore(COLLECTION_NAME, DOCUMENT_ID);\n    // Filter out deleted tables when loading, but keep them in Firebase\n    return data?.tables.filter((table: ShiftTable) => !table.isDeleted) || [];\n  } catch (error) {\n    console.error('Error loading shift tables:', error);\n    throw error;\n  }\n}\n\nexport async function saveDeletedTable(table: ShiftTable) {\n  try {\n    const docRef = doc(db, DELETED_BACKUP_COLLECTION, table.id);\n    await setDoc(docRef, { \n      ...table, \n      deletedAt: new Date().toISOString() \n    });\n    console.log('✅ Deleted table backed up successfully');\n  } catch (error) {\n    console.error('Error backing up deleted table:', error);\n  }\n}\n","'use client';\n\nimport { useEffect, useState } from 'react';\nexport function useClientAnalyticsFilters() {\n  const [filters, setFilters] = useState<{\n    startDate: string | null;\n    endDate: string | null;\n    country: 'Egypt' | 'Morocco';\n    view: string;\n  }>(() => {\n    const defaultFilters = {\n      startDate: null,\n      endDate: null,\n      country: 'Egypt',\n      view: 'all-time'\n    };\n    try {\n      if (typeof window === 'undefined') return defaultFilters;\n      const savedFilters = localStorage.getItem('analyticsFilters');\n      return savedFilters ? JSON.parse(savedFilters) : defaultFilters;\n    } catch {\n      return defaultFilters;\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem('analyticsFilters', JSON.stringify(filters));\n  }, [filters]);\n  return [filters, setFilters] as const;\n}","'use client';\n\nimport { useEffect, useState } from 'react';\nexport function useClientActiveCountries() {\n  const [activeCountries, setActiveCountries] = useState<{\n    Egypt: boolean;\n    Morocco: boolean;\n  }>(() => {\n    const defaultCountries = {\n      Egypt: true,\n      Morocco: false\n    };\n    try {\n      if (typeof window === 'undefined') return defaultCountries;\n      const savedCountries = localStorage.getItem('activeCountries');\n      return savedCountries ? JSON.parse(savedCountries) : defaultCountries;\n    } catch {\n      return defaultCountries;\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem('activeCountries', JSON.stringify(activeCountries));\n  }, [activeCountries]);\n  return [activeCountries, setActiveCountries] as const;\n}","'use client';\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue, SelectGroup, SelectLabel } from \"@/components/ui/select\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { LogOut, Plus, Trash2, Calendar, User, Save, Edit, Globe, BarChart, Archive, ChevronDown, ChevronUp, Flag, ArrowUpFromLine, Clock, CheckCircle2 } from 'lucide-react';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger, DialogFooter } from \"@/components/ui/dialog\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport toast from 'react-hot-toast';\nimport { loadShiftTables, saveShiftTables, loadAgents, saveAgents, saveDeletedTable } from '@/lib/firebase';\nimport type { ShiftTable, ShiftType, Task, Agent } from '@/types/types';\nimport type { TaskType as ImportedTaskType } from '@/types/types';\nimport { useClientAnalyticsFilters } from './ClientAnalyticsFilters';\nimport { useClientActiveCountries } from './useClientActiveCountries';\nimport { useClientActiveTab } from './useClientActiveTab';\ntype TaskType = ImportedTaskType;\nconst shiftDetails: Record<ShiftType, {\n  timeRange: string;\n  timeSlots: string[];\n  theme: string;\n}> = {\n  'Morning': {\n    timeRange: '08:00 to 16:00',\n    timeSlots: ['08:00-09:00', '09:00-10:00', '10:00-11:00', '11:00-12:00', '12:00-13:00', '13:00-14:00', '14:00-15:00', '15:00-16:00'],\n    theme: 'from-yellow-50 to-yellow-100 hover:to-yellow-200'\n  },\n  'Day': {\n    timeRange: '16:00 to 00:00',\n    timeSlots: ['16:00-17:00', '17:00-18:00', '18:00-19:00', '19:00-20:00', '20:00-21:00', '21:00-22:00', '22:00-23:00', '23:00-00:00'],\n    theme: 'from-blue-50 to-blue-100 hover:to-blue-200'\n  },\n  'Afternoon': {\n    timeRange: '10:00 to 18:00',\n    timeSlots: ['10:00-11:00', '11:00-12:00', '12:00-13:00', '13:00-14:00', '14:00-15:00', '15:00-16:00', '16:00-17:00', '17:00-18:00'],\n    theme: 'from-orange-50 to-orange-100 hover:to-orange-200'\n  },\n  'Evening': {\n    timeRange: '18:00 to 02:00',\n    timeSlots: ['18:00-19:00', '19:00-20:00', '20:00-21:00', '21:00-22:00', '22:00-23:00', '23:00-00:00', '00:00-01:00', '01:00-02:00'],\n    theme: 'from-purple-50 to-purple-100 hover:to-purple-200'\n  },\n  'Night': {\n    timeRange: '00:00 to 08:00',\n    timeSlots: ['00:00-01:00', '01:00-02:00', '02:00-03:00', '03:00-04:00', '04:00-05:00', '05:00-06:00', '06:00-07:00', '07:00-08:00'],\n    theme: 'from-indigo-50 to-indigo-100 hover:to-indigo-200'\n  }\n};\nconst shiftOrder: Record<ShiftType, number> = {\n  'Morning': 0,\n  'Afternoon': 1,\n  'Day': 2,\n  'Evening': 3,\n  'Night': 4\n};\nconst taskTypesByCountry: Record<string, TaskType[]> = {\n  'Egypt': ['Chat', 'Appeals/Reviews', 'Appeals/Reviews/Calls', 'Calls', 'Calls /App follow', 'Emails', 'Appeals/Reviews/Calls/App follow', 'App follow', 'Break', 'Sick'],\n  'Morocco': ['Chat', 'Chat/Appeals+Reviews', 'Chat /Emails+Groups+ Calls', 'Emails ( New ) + Appeals+ Calls', 'Emails (Need attention) + Reviews + Groups', 'All tasks + Calls', 'Break', 'Sick']\n};\nconst taskOptions = {\n  Egypt: [{\n    value: 'Chat',\n    label: 'Chat'\n  }, {\n    value: 'Appeals/Reviews',\n    label: 'Appeals/Reviews'\n  }, {\n    value: 'Appeals/Reviews/Calls',\n    label: 'Appeals/Reviews/Calls'\n  }, {\n    value: 'Calls',\n    label: 'Calls'\n  }, {\n    value: 'Calls /App follow',\n    label: 'Calls /App follow'\n  }, {\n    value: 'Emails',\n    label: 'Emails'\n  }, {\n    value: 'Appeals/Reviews/Calls/App follow',\n    label: 'Appeals/Reviews/Calls/App follow'\n  }, {\n    value: 'App follow',\n    label: 'App follow'\n  }, {\n    value: 'Break',\n    label: 'Break'\n  }, {\n    value: 'Sick',\n    label: 'Sick'\n  }],\n  Morocco: [{\n    value: 'Chat',\n    label: 'Chat'\n  }, {\n    value: 'Chat/Appeals+Reviews',\n    label: 'Chat/Appeals+Reviews'\n  }, {\n    value: 'Chat /Emails+Groups+ Calls',\n    label: 'Chat /Emails+Groups+ Calls'\n  }, {\n    value: 'Emails ( New ) + Appeals+ Calls',\n    label: 'Emails ( New ) + Appeals+ Calls'\n  }, {\n    value: 'Emails (Need attention) + Reviews + Groups',\n    label: 'Emails (Need attention) + Reviews + Groups'\n  }, {\n    value: 'All tasks + Calls',\n    label: 'All tasks + Calls'\n  }, {\n    value: 'Break',\n    label: 'Break'\n  }, {\n    value: 'Sick',\n    label: 'Sick'\n  }]\n};\nconst taskThemes: Record<TaskType, string> = {\n  // Egypt Tasks\n  'Chat': 'from-emerald-200 to-teal-200',\n  'Appeals/Reviews': 'from-blue-200 to-cyan-200',\n  'Appeals/Reviews/Calls': 'from-indigo-200 to-blue-200',\n  'Calls': 'from-violet-200 to-purple-200',\n  'Calls /App follow': 'from-purple-200 to-pink-200',\n  'Emails': 'from-amber-200 to-yellow-200',\n  'Appeals/Reviews/Calls/App follow': 'from-rose-200 to-pink-200',\n  'App follow': 'from-sky-200 to-blue-200',\n  // Morocco Tasks\n  'Chat/Appeals+Reviews': 'from-blue-200 to-cyan-200',\n  'Chat /Emails+Groups+ Calls': 'from-blue-200 to-cyan-200',\n  'Emails ( New ) + Appeals+ Calls': 'from-amber-200 to-yellow-200',\n  'Emails (Need attention) + Reviews + Groups': 'from-violet-200 to-purple-200',\n  'All tasks + Calls': 'from-rose-200 to-pink-200',\n  // Common Tasks\n  'Break': 'from-gray-200 to-slate-200',\n  'Sick': 'from-red-200 to-rose-200'\n};\nconst initialAgents = {\n  Egypt: [\"Eman Anwer\", \"Noura Emam\", \"Mai Tarek Kamell Hessen\", \"Abdelhamid Khamis\", \"Ahmad Gamal Anwer\", \"Ahmad Sobhy\", \"Ahmed Moustafa\", \"Omnia Ahmed\", \"Mohammed Hamdy\", \"Ahmed Mohamed Ahmed\", \"Abdulrahman Sayed Gomaa Mohamed\", \"Ibrahim Zaki\", \"Amira Tarek Taher Megahed\", \"Esraa Osama\", \"Sara Mourad Wahba Mikhael\", \"Mahmoud Aataf\", \"Rawan AbdElbast\", \"Abdelaziz\", \"Mohamed Ali\", \"Moaz Yousef\", \"Eslam Nasser\", \"Asmaa Gamal Kamel\", \"Yasmine Tarek\", \"Asmaa Mohamed Zawam\", \"Nouran Ramdan\", \"Eman Mohsen\", \"Mohamed Osama\", \"Eslam Mohammed El Sayed Awad\", \"Shreif Abdrabo\", \"Michael Magdy\", \"Mohamedd Essam\", \"Sara Abdelrazek\", \"Ahmed Osama\", \"Hesham Adawy\", \"Sameh Adel Farah Ahmed\", \"Mohamed Mostafa Isawi Ali\", \"Mayan\", \"Amr Nady\", \"Abdulhamid Mostafa\", \"Fatima\", \"Youmna Yousef\", \"Heba Raafat\", \"Mahmoud Gamil abdelaziz\", \"Kareem abubakr\", \"Alaa Elsayed\", \"Rahma Hassan Abdelrahman\", \"Ahmed Shaaban\"],\n  Morocco: [\"Yasser Marrou\", \"Mariem Abdelhakmi\", \"Zaynab Adil\", \"Meryem Mazroui\", \"Mohammad Aznague\", \"Achraf Tazi\", \"Mohamed Elhachmi\", \"Mohamed ougrni\", \"Kenza Abbadi\", \"Marouan Bajbouji\", \"Hamza Sahraoui\", \"Nouhaila Essalih\", \"Nada Bennis\", \"Aziz Dhraief\", \"Anis Boujmil\"]\n};\nfunction LoginForm({\n  onLogin\n}: {\n  onLogin: () => void;\n}) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n    try {\n      if (username === 'admin' && password === 'Thinkdiffrent@123369') {\n        onLogin();\n      } else {\n        setError('Invalid username or password');\n      }\n    } catch (error) {\n      setError('An error occurred during login');\n      console.error('Login error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return <Card className=\"w-[350px] mx-auto mt-8\" data-sentry-element=\"Card\" data-sentry-component=\"LoginForm\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n      <CardHeader data-sentry-element=\"CardHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <CardTitle className=\"text-2xl font-bold text-center\" data-sentry-element=\"CardTitle\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Admin Login</CardTitle>\n      </CardHeader>\n      <CardContent data-sentry-element=\"CardContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"username\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Username</Label>\n            <Input id=\"username\" type=\"text\" value={username} onChange={e => setUsername(e.target.value)} disabled={isLoading} required data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"password\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Password</Label>\n            <Input id=\"password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} disabled={isLoading} required data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n          </div>\n          {error && <p className=\"text-sm text-red-500\">{error}</p>}\n          <Button type=\"submit\" className=\"w-full\" disabled={isLoading} data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            {isLoading ? <>Loading...</> : <>\n                <LogOut className=\"mr-2 h-4 w-4\" /> Login\n              </>}\n          </Button>\n        </form>\n      </CardContent>\n    </Card>;\n}\nfunction AdminView({\n  shiftTables,\n  setShiftTables,\n  publishedTables,\n  setPublishedTables,\n  updateTablesAndSync,\n  activeCountries,\n  setActiveCountries\n}: {\n  shiftTables: ShiftTable[];\n  setShiftTables: React.Dispatch<React.SetStateAction<ShiftTable[]>>;\n  publishedTables: ShiftTable[];\n  setPublishedTables: React.Dispatch<React.SetStateAction<ShiftTable[]>>;\n  updateTablesAndSync: (tables: ShiftTable[]) => Promise<void>;\n  activeCountries: {\n    Egypt: boolean;\n    Morocco: boolean;\n  };\n  setActiveCountries: React.Dispatch<React.SetStateAction<{\n    Egypt: boolean;\n    Morocco: boolean;\n  }>>;\n}) {\n  const [newShiftType, setNewShiftType] = useState<ShiftType>('Morning');\n  const [splitInterval, setSplitInterval] = useState<number>(1);\n  const [splitIntervalInput, setSplitIntervalInput] = useState<string>(\"1\");\n  const [previewTimeSlots, setPreviewTimeSlots] = useState<string[]>([]);\n  const [splitWarning, setSplitWarning] = useState<string>('');\n  const [agents, setAgents] = useState<Record<'Egypt' | 'Morocco', string[]>>(initialAgents);\n  const [newAgentName, setNewAgentName] = useState('');\n  const [newAgentCountry, setNewAgentCountry] = useState<'Egypt' | 'Morocco'>('Egypt');\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSeniorName, setNewSeniorName] = useState('');\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false);\n  const [confirmAction, setConfirmAction] = useState<{\n    type: 'delete' | 'archive';\n    tableId: string;\n    password?: string;\n  } | null>(null);\n  const [savedTables, setSavedTables] = useState<Record<string, boolean>>({});\n  const saveTable = async (id: string) => {\n    try {\n      const tableToSave = shiftTables.find(table => table.id === id);\n      if (tableToSave) {\n        await saveShiftTables(shiftTables);\n        setSavedTables(prev => ({\n          ...prev,\n          [id]: true\n        }));\n        toast.success('Table saved successfully');\n      }\n    } catch (error) {\n      console.error('Error saving table:', error);\n      toast.error('Failed to save table');\n    }\n  };\n  const handleSplitIntervalChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = parseFloat(e.target.value);\n    if (isNaN(value)) return;\n    if (value < 1) {\n      setSplitWarning('Minimum interval is 1 hour');\n      return;\n    }\n    if (value > 8) {\n      setSplitWarning('Maximum interval is 8 hours');\n      return;\n    }\n    setSplitInterval(value);\n    setSplitIntervalInput(e.target.value);\n    const timeSlots = generateTimeSlots(value, newShiftType);\n    setPreviewTimeSlots(timeSlots);\n    if (timeSlots.length > 8) {\n      setSplitWarning('Warning: More than 8 time slots');\n    } else {\n      setSplitWarning('');\n    }\n  }, [newShiftType]);\n  const generateTimeSlots = (interval: number, shiftType: ShiftType = 'Morning') => {\n    const timeSlots: string[] = [];\n    const shiftRanges = {\n      'Morning': {\n        start: 8,\n        end: 16\n      },\n      'Afternoon': {\n        start: 10,\n        end: 18\n      },\n      'Day': {\n        start: 16,\n        end: 24\n      },\n      'Evening': {\n        start: 18,\n        end: 26\n      },\n      // 26 represents 2:00 next day\n      'Night': {\n        start: 0,\n        end: 8\n      }\n    };\n    const {\n      start,\n      end\n    } = shiftRanges[shiftType];\n    let currentTime = start;\n    while (currentTime < end) {\n      const endTime = Math.min(currentTime + interval, end);\n      const startHour = Math.floor(currentTime) % 24;\n      const startMinutes = Math.round(currentTime % 1 * 60);\n      const endHour = Math.floor(endTime) % 24;\n      const endMinutes = Math.round(endTime % 1 * 60);\n      const startStr = `${startHour.toString().padStart(2, '0')}:${startMinutes.toString().padStart(2, '0')}`;\n      const endStr = `${endHour.toString().padStart(2, '0')}:${endMinutes.toString().padStart(2, '0')}`;\n      timeSlots.push(`${startStr}-${endStr}`);\n      currentTime = endTime;\n    }\n    return timeSlots;\n  };\n  const handleShiftTypeChange = (type: ShiftType) => {\n    setNewShiftType(type);\n    const timeSlots = generateTimeSlots(splitInterval, type);\n    setPreviewTimeSlots(timeSlots);\n  };\n\n  // Initialize time slots on mount\n  useEffect(() => {\n    const timeSlots = generateTimeSlots(splitInterval, newShiftType);\n    setPreviewTimeSlots(timeSlots);\n  }, [newShiftType, splitInterval]);\n\n  // Load agents from Firebase\n  useEffect(() => {\n    const loadSavedAgents = async () => {\n      try {\n        const savedAgents = await loadAgents();\n        if (Object.keys(savedAgents).length > 0) {\n          setAgents(savedAgents);\n        }\n      } catch (error) {\n        console.error('Error loading agents:', error);\n        toast.error('Failed to load agents');\n      }\n    };\n    loadSavedAgents();\n  }, []);\n\n  // Save agents whenever they change\n  useEffect(() => {\n    const saveAgentsToFirebase = async () => {\n      try {\n        await saveAgents(agents);\n      } catch (error) {\n        console.error('Error saving agents:', error);\n      }\n    };\n    saveAgentsToFirebase();\n  }, [agents]);\n  const updateShiftTable = (id: string, field: keyof ShiftTable, value: \"Egypt\" | \"Morocco\" | null | undefined | boolean | string) => {\n    const updatedTables = shiftTables.map(table => {\n      if (table.id === id) {\n        // When publishing, preserve existing tasks\n        if (field === 'publishedTo') {\n          return {\n            ...table,\n            [field]: value as \"Egypt\" | \"Morocco\" | null | undefined,\n            agents: table.agents.map(agent => ({\n              ...agent,\n              tasks: agent.tasks || Array(table.timeSlots.length).fill(null)\n            }))\n          };\n        }\n        return {\n          ...table,\n          [field]: value\n        };\n      }\n      return table;\n    });\n    updateTablesAndSync(updatedTables);\n  };\n  const addAgent = (tableId: string) => {\n    const updatedTables = shiftTables.map(table => {\n      if (table.id === tableId) {\n        const newAgent: Agent = {\n          name: '',\n          tasks: Array(table.timeSlots.length).fill(null)\n        };\n        return {\n          ...table,\n          agents: [...table.agents, newAgent]\n        };\n      }\n      return table;\n    });\n    updateTablesAndSync(updatedTables);\n  };\n  const deleteAgent = (tableId: string, agentIndex: number) => {\n    const updatedTables = shiftTables.map(table => {\n      if (table.id === tableId) {\n        const updatedAgents = [...table.agents];\n        updatedAgents.splice(agentIndex, 1);\n        return {\n          ...table,\n          agents: updatedAgents\n        };\n      }\n      return table;\n    });\n    updateTablesAndSync(updatedTables);\n    toast.success('Agent removed successfully');\n  };\n  const updateAgentName = async (tableId: string, agentIndex: number, agentName: string) => {\n    try {\n      const updatedTables = shiftTables.map(table => {\n        if (table.id === tableId) {\n          const tableAgents = getAvailableAgents(table.country);\n          if (!tableAgents.includes(agentName)) {\n            throw new Error(`Agent ${agentName} is not available for ${table.country}`);\n          }\n          const newAgents = [...table.agents];\n          newAgents[agentIndex] = {\n            name: agentName,\n            tasks: Array(table.timeSlots.length).fill(null)\n          };\n          return {\n            ...table,\n            agents: newAgents\n          };\n        }\n        return table;\n      });\n      setShiftTables(updatedTables);\n      await saveShiftTables(updatedTables);\n      toast.success('Agent updated successfully');\n    } catch (error) {\n      console.error('Error updating agent:', error);\n      toast.error('Failed to update agent');\n    }\n  };\n  const updateAgentTask = async (tableId: string, agentIndex: number, taskIndex: number, taskType: TaskType) => {\n    try {\n      const updatedTables = shiftTables.map(table => {\n        if (table.id === tableId) {\n          const updatedAgents = [...table.agents];\n          if (!updatedAgents[agentIndex].tasks) {\n            updatedAgents[agentIndex].tasks = [];\n          }\n          updatedAgents[agentIndex].tasks[taskIndex] = {\n            type: taskType\n          };\n          return {\n            ...table,\n            agents: updatedAgents\n          };\n        }\n        return table;\n      });\n      await updateTablesAndSync(updatedTables);\n    } catch (error) {\n      console.error('Error updating agent task:', error);\n      toast.error('Failed to update task');\n    }\n  };\n  const removeShiftTable = async (id: string) => {\n    if (!id) {\n      console.error('Invalid table ID provided to removeShiftTable');\n      return;\n    }\n    const tableToDelete = shiftTables.find(table => table.id === id);\n    if (!tableToDelete) {\n      toast.error('Table not found');\n      return;\n    }\n    if (!window.confirm(`Are you sure you want to delete this ${tableToDelete.shiftType} shift table for ${tableToDelete.country}?`)) {\n      return;\n    }\n    const password = window.prompt('Please enter the password to confirm deletion:');\n    if (password !== 'admin@') {\n      toast.error('Incorrect password');\n      return;\n    }\n    try {\n      // First backup the table\n      await saveDeletedTable(tableToDelete);\n\n      // Then mark as deleted\n      const updatedTables = shiftTables.map(table => table.id === id ? {\n        ...table,\n        isDeleted: true\n      } : table);\n      await updateTablesAndSync(updatedTables);\n      toast.success('Table deleted successfully');\n    } catch (error) {\n      console.error('Error deleting table:', error);\n      toast.error('Failed to delete table');\n    }\n  };\n  const updateShiftTables = async (updatedShiftTables: ShiftTable[]) => {\n    try {\n      await saveShiftTables(updatedShiftTables);\n      setShiftTables(updatedShiftTables);\n      toast.success('Changes saved successfully');\n    } catch (error: any) {\n      console.error('Error saving shift tables:', error.message);\n      toast.error('Failed to save changes');\n    }\n  };\n  const handleArchiveTable = async (id: string) => {\n    if (!id) {\n      console.error('Invalid table ID provided to handleArchiveTable');\n      return;\n    }\n    try {\n      // First confirm if user wants to archive\n      const confirmArchive = window.confirm('Are you sure you want to archive this shift table?');\n      if (!confirmArchive) return;\n\n      // Then prompt for password\n      const password = window.prompt('Please enter the password to archive:');\n      if (password !== 'admin@') {\n        toast.error('Incorrect password. Action cancelled.');\n        return;\n      }\n      const updatedTables: ShiftTable[] = shiftTables.map(table => ({\n        ...table,\n        publishedTo: table.id === id ? table.country : table.publishedTo\n      }));\n      await updateTablesAndSync(updatedTables);\n      const targetTable = shiftTables.find(t => t.id === id);\n      if (targetTable) {\n        toast.success(`Table published to ${targetTable.country}`);\n      }\n    } catch (error) {\n      console.error('Error archiving table:', error);\n      toast.error('Failed to archive table');\n    }\n  };\n  const publishTable = async (id: string) => {\n    const tableToPublish = shiftTables.find(table => table.id === id);\n    if (!tableToPublish) {\n      toast.error('Table not found');\n      return;\n    }\n\n    // Use the table's own country property instead of activeCountries\n    const updatedTables: ShiftTable[] = shiftTables.map(table => ({\n      ...table,\n      publishedTo: table.id === id ? tableToPublish.country : table.publishedTo\n    }));\n    await updateTablesAndSync(updatedTables);\n    toast.success(`Table published to ${tableToPublish.country}`);\n  };\n  const unpublishTable = async (id: string) => {\n    const updatedTables: ShiftTable[] = shiftTables.map(table => ({\n      ...table,\n      publishedTo: table.id === id ? null : table.publishedTo\n    }));\n    await updateTablesAndSync(updatedTables);\n  };\n  const addNewAgent = async () => {\n    if (newAgentName.trim()) {\n      try {\n        const updatedAgents = {\n          ...agents,\n          [newAgentCountry]: [...(agents[newAgentCountry] || []), newAgentName.trim()]\n        };\n\n        // Save to Firebase\n        await saveAgents(updatedAgents);\n\n        // Update local state\n        setAgents(updatedAgents);\n\n        // Clear input\n        setNewAgentName('');\n        toast.success('Agent added successfully');\n      } catch (error) {\n        console.error('Error adding agent:', error);\n        toast.error('Failed to add agent. Please try again.');\n      }\n    }\n  };\n  const canArchiveDay = (date: string) => {\n    const tablesForDay = shiftTables.filter(table => table.date === date && !table.isArchived);\n    const shiftTypes = new Set(tablesForDay.map(table => table.shiftType));\n    return shiftTypes.has('Morning') && shiftTypes.has('Night');\n  };\n  const tablesByDate = shiftTables.filter(table => !table.isArchived).reduce((acc, table) => {\n    if (!acc[table.date]) {\n      acc[table.date] = [];\n    }\n    acc[table.date].push(table);\n    return acc;\n  }, {} as Record<string, ShiftTable[]>);\n  const handleCountryChange = (country: 'Egypt' | 'Morocco') => {\n    // If the current country is already selected, don't allow deselecting it\n    if (activeCountries[country]) return;\n\n    // Set the selected country to true and the other to false\n    const newActiveCountries = {\n      Egypt: country === 'Egypt',\n      Morocco: country === 'Morocco'\n    };\n    setActiveCountries(newActiveCountries);\n    // Save to localStorage immediately\n    localStorage.setItem('activeCountries', JSON.stringify(newActiveCountries));\n  };\n  const getAvailableAgents = (tableCountry: 'Egypt' | 'Morocco') => {\n    return agents[tableCountry] || initialAgents[tableCountry] || [];\n  };\n  const TaskSelect = ({\n    value,\n    onChange,\n    country\n  }: {\n    value: string;\n    onChange: (value: string) => void;\n    country: string;\n  }) => {\n    return <Select value={value} onValueChange={onChange} data-sentry-element=\"Select\" data-sentry-component=\"TaskSelect\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <SelectTrigger data-sentry-element=\"SelectTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <SelectValue data-sentry-element=\"SelectValue\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n        </SelectTrigger>\n        <SelectContent data-sentry-element=\"SelectContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          {taskOptions[country as keyof typeof taskOptions].map(option => <SelectItem key={option.value} value={option.value}>\n              {option.label}\n            </SelectItem>)}\n        </SelectContent>\n      </Select>;\n  };\n  const renderAgentSelect = (shiftTable: ShiftTable, agent: Agent | null, index: number) => {\n    const tableAgents = getAvailableAgents(shiftTable.country);\n    return <Select value={agent?.name || ''} onValueChange={value => updateAgentName(shiftTable.id, index, value)} data-sentry-element=\"Select\" data-sentry-component=\"renderAgentSelect\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <SelectTrigger className=\"w-[200px]\" data-sentry-element=\"SelectTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <SelectValue placeholder=\"Select agent\" data-sentry-element=\"SelectValue\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n        </SelectTrigger>\n        <SelectContent data-sentry-element=\"SelectContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <SelectGroup data-sentry-element=\"SelectGroup\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <SelectLabel data-sentry-element=\"SelectLabel\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Agents</SelectLabel>\n            {tableAgents.map(agent => <SelectItem key={agent} value={agent}>\n                {agent}\n              </SelectItem>)}\n          </SelectGroup>\n        </SelectContent>\n    </Select>;\n  };\n  useEffect(() => {\n    const savedCountries = localStorage.getItem('activeCountries');\n    if (savedCountries) {\n      setActiveCountries(JSON.parse(savedCountries));\n    }\n    const savedAgents = localStorage.getItem('agents');\n    if (savedAgents) {\n      setAgents(JSON.parse(savedAgents));\n    }\n  }, []);\n  useEffect(() => {\n    const loadTempChanges = () => {\n      const tempTablesStr = localStorage.getItem('tempShiftTables');\n      if (tempTablesStr) {\n        try {\n          const tempTables = JSON.parse(tempTablesStr);\n          if (Array.isArray(tempTables)) {\n            setShiftTables(tempTables);\n          }\n        } catch (error) {\n          console.error('Error loading temporary changes:', error);\n        }\n      }\n    };\n    loadTempChanges();\n  }, [setShiftTables]);\n  useEffect(() => {\n    localStorage.setItem('activeCountries', JSON.stringify(activeCountries));\n  }, [activeCountries, setActiveCountries]);\n  const addNewShiftTable = async () => {\n    try {\n      const selectedCountry = activeCountries.Egypt ? 'Egypt' : 'Morocco';\n      const newTable: ShiftTable = {\n        id: crypto.randomUUID(),\n        date: selectedDate,\n        shiftType: newShiftType,\n        country: selectedCountry,\n        timeSlots: generateTimeSlots(splitInterval, newShiftType),\n        agents: [],\n        isArchived: false,\n        isDeleted: false,\n        senior: newSeniorName,\n        publishedTo: null,\n        manuallyUnarchived: false,\n        shifts: {\n          Morning: [],\n          Day: [],\n          Afternoon: [],\n          Evening: [],\n          Night: []\n        }\n      };\n      const updatedTables = [...shiftTables, newTable];\n      await updateTablesAndSync(updatedTables);\n      toast.success('New shift table created successfully');\n    } catch (error) {\n      console.error('Error creating new shift table:', error);\n      toast.error('Failed to create new shift table');\n    }\n  };\n  const handleConfirmAction = async () => {\n    if (!confirmAction) return;\n    const password = confirmAction.password;\n    if (password !== 'admin@') {\n      toast.error('Incorrect password');\n      return;\n    }\n    try {\n      const updatedTables = shiftTables.map(table => table.id === confirmAction.tableId ? {\n        ...table,\n        ...(confirmAction.type === 'delete' ? {\n          isDeleted: true\n        } : {\n          isArchived: true\n        })\n      } : table);\n      await updateTablesAndSync(updatedTables);\n      toast.success(`Table ${confirmAction.type === 'delete' ? 'deleted' : 'archived'} successfully`);\n    } catch (error) {\n      toast.error('An error occurred. Please try again.');\n    }\n    setConfirmDialogOpen(false);\n    setConfirmAction(null);\n  };\n  const openConfirmDialog = (type: 'delete' | 'archive', tableId: string) => {\n    setConfirmAction({\n      type,\n      tableId\n    });\n    setConfirmDialogOpen(true);\n  };\n  return <div className=\"container mx-auto p-4 space-y-8\" data-sentry-component=\"AdminView\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n      <Card data-sentry-element=\"Card\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <CardHeader data-sentry-element=\"CardHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <CardTitle data-sentry-element=\"CardTitle\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Active Country</CardTitle>\n          <CardDescription data-sentry-element=\"CardDescription\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Select which country's schedule to manage</CardDescription>\n        </CardHeader>\n        <CardContent data-sentry-element=\"CardContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <div className=\"flex space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Switch id=\"egypt-switch\" checked={activeCountries.Egypt} onCheckedChange={() => handleCountryChange('Egypt')} data-sentry-element=\"Switch\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n              <Label htmlFor=\"egypt-switch\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Egypt</Label>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Switch id=\"morocco-switch\" checked={activeCountries.Morocco} onCheckedChange={() => handleCountryChange('Morocco')} data-sentry-element=\"Switch\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n              <Label htmlFor=\"morocco-switch\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Morocco</Label>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Dialog data-sentry-element=\"Dialog\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <DialogTrigger asChild data-sentry-element=\"DialogTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <Button variant=\"outline\" data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Add New Agent</Button>\n        </DialogTrigger>\n        <DialogContent data-sentry-element=\"DialogContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <DialogHeader data-sentry-element=\"DialogHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <DialogTitle data-sentry-element=\"DialogTitle\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Add New Agent</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"new-agent-name\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Agent Name</Label>\n              <Input id=\"new-agent-name\" value={newAgentName} onChange={e => setNewAgentName(e.target.value)} placeholder=\"Enter agent name\" data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n            </div>\n            <div>\n              <Label htmlFor=\"new-agent-country\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Country</Label>\n              <Select value={newAgentCountry} onValueChange={(value: 'Egypt' | 'Morocco') => setNewAgentCountry(value)} data-sentry-element=\"Select\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                <SelectTrigger data-sentry-element=\"SelectTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <SelectValue placeholder=\"Select country\" data-sentry-element=\"SelectValue\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n                </SelectTrigger>\n                <SelectContent data-sentry-element=\"SelectContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <SelectItem value=\"Egypt\" data-sentry-element=\"SelectItem\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Egypt</SelectItem>\n                  <SelectItem value=\"Morocco\" data-sentry-element=\"SelectItem\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Morocco</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <Button onClick={addNewAgent} data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Add Agent</Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {Object.entries(tablesByDate).map(([date, tables]) => <Card key={date} className=\"overflow-hidden\">\n          <CardHeader>\n            <CardTitle className=\"flex justify-between items-center\">\n              <div className=\"flex-1 flex items-center gap-2\">\n                <Calendar className=\"h-5 w-5\" />\n                <span>{new Date(date).toLocaleDateString('en-US', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              })}</span>\n              </div>\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {tables.map(shiftTable => <Card key={shiftTable.id} className={cn(\"overflow-hidden bg-gradient-to-br\", shiftDetails[shiftTable.shiftType].theme)}>\n                <CardHeader className=\"bg-white bg-opacity-30 backdrop-blur-sm\">\n                  <CardTitle className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <span>{shiftTable.shiftType} Shift</span>\n                      <Badge variant=\"outline\" className=\"bg-white/50 backdrop-blur-sm\">\n                        <Globe className=\"mr-1 h-3 w-3\" />\n                        {shiftTable.country}\n                      </Badge>\n                      {shiftTable.publishedTo && <Badge variant=\"default\" className=\"bg-green-500\">\n                          Published\n                        </Badge>}\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      {shiftTable.publishedTo ? <Button variant=\"outline\" size=\"sm\" onClick={() => unpublishTable(shiftTable.id)}>\n                          Unpublish\n                        </Button> : <Button variant=\"outline\" size=\"sm\" onClick={() => publishTable(shiftTable.id)}>\n                          <Globe className=\"mr-2 h-4 w-4\" /> Publish\n                        </Button>}\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => savedTables[shiftTable.id] ? null : saveTable(shiftTable.id)} disabled={savedTables[shiftTable.id]}>\n                        {savedTables[shiftTable.id] ? <CheckCircle2 className=\"h-4 w-4 text-green-500\" /> : <Save className=\"h-4 w-4\" />}\n                      </Button>\n                      <Button variant=\"ghost\" size=\"icon\" onClick={() => openConfirmDialog('delete', shiftTable.id)} aria-label=\"Remove shift table\">\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                      <Button variant=\"ghost\" size=\"icon\" onClick={() => openConfirmDialog('archive', shiftTable.id)} className=\"hover:bg-purple-100\">\n                        <Archive className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </CardTitle>\n                  <div className=\"flex flex-wrap gap-4 items-center text-sm\">\n                    <div className=\"flex items-center gap-2\">\n                      <User className=\"h-4 w-4\" />\n                      <span>{shiftTable.senior}</span>\n                    </div>\n                    <span className=\"text-sm font-medium\">\n                      {shiftDetails[shiftTable.shiftType].timeRange}\n                    </span>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"p-0\">\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead className=\"w-[150px] bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-20\">Agent's Name</TableHead>\n                          {shiftTable.timeSlots.map((slot, index) => <TableHead key={index} className=\"text-center bg-white bg-opacity-30 backdrop-blur-sm\">\n                              {slot}\n                            </TableHead>)}\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {shiftTable.agents.map((agent, index) => {\n                    const isAgentSick = agent.tasks.some(task => task?.type === 'Sick');\n                    return <TableRow key={index} className={cn(isAgentSick && \"bg-gray-100\")}>\n                              <TableCell className={cn(\"bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-10\", agent.highlight && \"bg-orange-200 bg-opacity-60\")}>\n                                <div className=\"flex items-center gap-2\">\n                                  <Select value={agent.name} onValueChange={value => updateAgentName(shiftTable.id, index, value)}>\n                                    <SelectTrigger className=\"w-[180px]\">\n                                      <SelectValue placeholder=\"Select agent\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                      {getAvailableAgents(shiftTable.country).map(agent => <SelectItem key={agent} value={agent}>\n                                          {agent}\n                                        </SelectItem>)}\n                                    </SelectContent>\n                                  </Select>\n                                  <Button variant=\"ghost\" size=\"icon\" onClick={() => deleteAgent(shiftTable.id, index)} aria-label=\"Remove agent\">\n                                    <Trash2 className=\"h-4 w-4\" />\n                                  </Button>\n                                </div>\n                              </TableCell>\n                              {shiftTable.timeSlots.map((_, taskIndex) => <TableCell key={taskIndex} className=\"p-1\">\n                                  <div className=\"h-full\">\n                                    <Select value={agent.tasks[taskIndex]?.type || ''} onValueChange={(value: TaskType) => updateAgentTask(shiftTable.id, index, taskIndex, value)}>\n                                      <SelectTrigger className={cn(\"w-full h-full border-0 focus:ring-0\", agent.tasks[taskIndex] ? `bg-gradient-to-r ${taskThemes[agent.tasks[taskIndex].type]}` : \"bg-white\")}>\n                                        <SelectValue placeholder=\"Select task\" />\n                                      </SelectTrigger>\n                                      <SelectContent>\n                                        {taskTypesByCountry[shiftTable.country].map(type => <SelectItem key={type} value={type}>\n                                            {type}\n                                          </SelectItem>)}\n                                      </SelectContent>\n                                    </Select>\n                                  </div>\n                                </TableCell>)}\n                            </TableRow>;\n                  })}\n                      </TableBody>\n                    </Table>\n                  </div>\n                  <div className=\"p-4\">\n                    <Button onClick={() => addAgent(shiftTable.id)} variant=\"outline\" className=\"w-full\">\n                      <Plus className=\"mr-2 h-4 w-4\" /> Add Agent\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>)}\n          </CardContent>\n        </Card>)}\n      <Dialog data-sentry-element=\"Dialog\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <DialogTrigger asChild data-sentry-element=\"DialogTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <Button className=\"mt-4 w-full\" data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <Plus className=\"mr-2 h-4 w-4\" data-sentry-element=\"Plus\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" /> Create New Shift Table\n          </Button>\n        </DialogTrigger>\n        <DialogContent data-sentry-element=\"DialogContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <DialogHeader data-sentry-element=\"DialogHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <DialogTitle data-sentry-element=\"DialogTitle\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Create New Shift Table</DialogTitle>\n            <div className=\"space-y-2\">\n              <DialogDescription data-sentry-element=\"DialogDescription\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                Fill in the details for your new shift table.\n              </DialogDescription>\n              <div className=\"flex items-center gap-2\">\n                <Badge variant=\"outline\" data-sentry-element=\"Badge\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <Globe className=\"mr-1 h-3 w-3\" data-sentry-element=\"Globe\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n                  Creating for: {activeCountries.Egypt ? 'Egypt' : 'Morocco'}\n                </Badge>\n              </div>\n            </div>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"grid gap-4\">\n              <div className=\"flex flex-col space-y-1.5\">\n                <Label htmlFor=\"shiftType\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Shift Type</Label>\n                <Select value={newShiftType} onValueChange={(value: ShiftType) => handleShiftTypeChange(value)} data-sentry-element=\"Select\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <SelectTrigger data-sentry-element=\"SelectTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                    <SelectValue placeholder=\"Select shift type\" data-sentry-element=\"SelectValue\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n                  </SelectTrigger>\n                  <SelectContent position=\"popper\" data-sentry-element=\"SelectContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                    {Object.keys(shiftDetails).map(type => <SelectItem key={type} value={type}>\n                        {type}\n                      </SelectItem>)}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"flex flex-col space-y-1.5\">\n                <Label htmlFor=\"date\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Date</Label>\n                <Input id=\"date\" type=\"date\" value={selectedDate} onChange={e => setSelectedDate(e.target.value)} data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n              </div>\n\n              <div className=\"flex flex-col space-y-1.5\">\n                <Label htmlFor=\"seniorName\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Senior Name</Label>\n                <Input id=\"seniorName\" type=\"text\" value={newSeniorName} onChange={e => setNewSeniorName(e.target.value)} placeholder=\"Enter senior name\" data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n              </div>\n\n              <div className=\"flex flex-col space-y-1.5\">\n                <Label htmlFor=\"splitInterval\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Split Interval (hours)</Label>\n                <Input type=\"number\" step=\"1\" min=\"1\" max=\"8\" value={splitIntervalInput} onChange={handleSplitIntervalChange} className={cn(\"w-20\", splitWarning ? \"border-red-500 focus:ring-red-500\" : \"\")} data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n                <Label className=\"text-sm text-muted-foreground\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Hour intervals</Label>\n              </div>\n            </div>\n            {/* Preview section */}\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Preview Time Slots:</Label>\n              <div className=\"bg-muted/50 p-3 rounded-md\">\n                {previewTimeSlots.length > 0 ? <div className=\"flex flex-wrap gap-2\">\n                    {previewTimeSlots.map((slot, index) => <Badge key={index} variant=\"secondary\" className=\"flex items-center gap-1\">\n                        <Clock className=\"h-3 w-3\" />\n                        {slot}\n                      </Badge>)}\n                  </div> : <div className=\"text-sm text-muted-foreground text-center py-2\">\n                    Enter a valid interval to see time slots\n                  </div>}\n              </div>\n              {splitWarning && <div className=\"text-sm text-yellow-600 dark:text-yellow-500 flex items-center gap-2 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                  </svg>\n                  {splitWarning}\n                </div>}\n            </div>\n          </div>\n          <Button onClick={addNewShiftTable} data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Create Shift Table</Button>\n        </DialogContent>\n      </Dialog>\n      <Dialog open={confirmDialogOpen} onOpenChange={setConfirmDialogOpen} data-sentry-element=\"Dialog\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <DialogContent data-sentry-element=\"DialogContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <DialogHeader data-sentry-element=\"DialogHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <DialogTitle data-sentry-element=\"DialogTitle\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              {confirmAction?.type === 'delete' ? 'Confirm Deletion' : 'Confirm Archive'}\n            </DialogTitle>\n            <DialogDescription data-sentry-element=\"DialogDescription\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              {confirmAction?.type === 'delete' ? 'Are you sure you want to delete this shift table? This action requires password confirmation.' : 'Are you sure you want to archive this shift table? This action requires password confirmation.'}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\" data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Enter Password</Label>\n              <Input id=\"password\" type=\"password\" placeholder=\"Enter admin password\" onChange={e => setConfirmAction(prev => prev ? {\n              ...prev,\n              password: e.target.value\n            } : null)} data-sentry-element=\"Input\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n            </div>\n          </div>\n          <DialogFooter data-sentry-element=\"DialogFooter\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <Button variant=\"outline\" onClick={() => setConfirmDialogOpen(false)} data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              Cancel\n            </Button>\n            <Button variant={confirmAction?.type === 'delete' ? 'destructive' : 'default'} onClick={handleConfirmAction} data-sentry-element=\"Button\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              Confirm {confirmAction?.type === 'delete' ? 'Delete' : 'Archive'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>;\n}\nfunction PublishedView({\n  shiftTables,\n  country\n}: {\n  shiftTables: ShiftTable[];\n  country: 'Egypt' | 'Morocco';\n}) {\n  const publishedTables = shiftTables.filter(table => table.publishedTo === country && !table.isArchived).sort((a, b) => {\n    // First sort by date\n    const dateComparison = new Date(a.date).getTime() - new Date(b.date).getTime();\n    if (dateComparison !== 0) return dateComparison;\n\n    // Then sort by shift order\n    return shiftOrder[a.shiftType] - shiftOrder[b.shiftType];\n  });\n  return <div className=\"container mx-auto p-4 space-y-8\" data-sentry-component=\"PublishedView\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n      {publishedTables.map(shiftTable => <Card key={shiftTable.id} className={cn(\"overflow-hidden bg-gradient-to-br\", shiftDetails[shiftTable.shiftType].theme)}>\n          <CardHeader className=\"bg-white bg-opacity-30 backdrop-blur-sm\">\n            <CardTitle>\n              <div className=\"flex items-center gap-2\">\n                <span>{shiftTable.shiftType} Shift</span>\n              </div>\n            </CardTitle>\n            <div className=\"flex flex-wrap gap-4 items-center text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"h-4 w-4\" />\n                <span>{shiftTable.date}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <User className=\"h-4 w-4\" />\n                <span>{shiftTable.senior}</span>\n              </div>\n              <span className=\"text-sm font-medium\">\n                {shiftDetails[shiftTable.shiftType].timeRange}\n              </span>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Agent's Name</TableHead>\n                    {shiftTable.timeSlots.map((slot, index) => <TableHead key={index} className=\"text-center bg-white bg-opacity-30 backdrop-blur-sm\">\n                        {slot}\n                      </TableHead>)}\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {shiftTable.agents.map((agent, agentIndex) => <TableRow key={agentIndex}>\n                      <TableCell>{agent.name}</TableCell>\n                      {agent.tasks.map((task, taskIndex) => <TableCell key={taskIndex} className=\"p-1\">\n                          <div className={cn(\"w-full h-full p-2 rounded\", task ? `bg-gradient-to-r ${taskThemes[task.type]}` : \"bg-white\")}>\n                            {task?.type || '-'}\n                          </div>\n                        </TableCell>)}\n                    </TableRow>)}\n                </TableBody>\n              </Table>\n            </div>\n          </CardContent>\n        </Card>)}\n      {publishedTables.length === 0 && <div className=\"text-center text-gray-500\">No published schedules for {country}</div>}\n    </div>;\n}\nfunction ArchiveView({\n  shiftTables,\n  setShiftTables,\n  updateTablesAndSync\n}: {\n  shiftTables: ShiftTable[];\n  setShiftTables: React.Dispatch<React.SetStateAction<ShiftTable[]>>;\n  updateTablesAndSync: (tables: ShiftTable[]) => Promise<void>;\n}) {\n  const [expandedDate, setExpandedDate] = useState<string | null>(null);\n\n  // Get unique dates from archived tables\n  const archivedDates = [...new Set(shiftTables.filter(table => table.isArchived).map(table => table.date))];\n  const toggleExpand = (date: string) => {\n    setExpandedDate(expandedDate === date ? null : date);\n  };\n  const handleUnarchiveTable = async (tableId: string) => {\n    // First confirm if user wants to unarchive\n    const confirmUnarchive = window.confirm('Are you sure you want to unarchive this shift table?');\n    if (!confirmUnarchive) return;\n\n    // Then prompt for password\n    const password = window.prompt('Please enter the password to unarchive:');\n    if (password !== 'admin@') {\n      toast.error('Incorrect password. Action cancelled.');\n      return;\n    }\n    try {\n      const updatedTables = shiftTables.map(table => table.id === tableId ? {\n        ...table,\n        isArchived: false,\n        manuallyUnarchived: true\n      } : table);\n      await updateTablesAndSync(updatedTables);\n      toast.success('Table unarchived successfully');\n    } catch (error) {\n      console.error('Error unarchiving table:', error);\n      toast.error('Failed to unarchive table');\n    }\n  };\n  const handleDeleteDay = async (date: string) => {\n    // First confirm if user wants to delete\n    const confirmDelete = window.confirm('Are you sure you want to delete all archived tables for this date?');\n    if (!confirmDelete) return;\n\n    // Then prompt for password\n    const password = window.prompt('Please enter the password to delete:');\n    if (password !== 'admin@') {\n      toast.error('Incorrect password. Action cancelled.');\n      return;\n    }\n    try {\n      const updatedShiftTables = shiftTables.filter(table => table.date !== date || !table.isArchived);\n      await saveShiftTables(updatedShiftTables);\n      setShiftTables(updatedShiftTables);\n      toast.success('Archived tables deleted successfully');\n    } catch (error) {\n      console.error('Error deleting archived tables:', error);\n      toast.error('Failed to delete archived tables');\n    }\n  };\n\n  // Group tables by date and country\n  const getTablesForDateAndCountry = (date: string, country: string) => {\n    return shiftTables.filter(table => table.isArchived && table.date === date && (table.publishedTo === country || table.publishedTo === null));\n  };\n  return <div className=\"container mx-auto p-4 space-y-8\" data-sentry-component=\"ArchiveView\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n      <h2 className=\"text-2xl font-bold mb-4\">Archived Schedules</h2>\n      {archivedDates.map(date => <Card key={date} className=\"overflow-hidden\">\n          <CardHeader className=\"cursor-pointer bg-gray-100 hover:bg-gray-200 transition-colors\">\n            <CardTitle className=\"flex justify-between items-center\">\n              <div className=\"flex-1 flex items-center gap-2\" onClick={() => toggleExpand(date)}>\n                <span>{date}</span>\n                {expandedDate === date ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n              </div>\n              <Button variant=\"ghost\" size=\"icon\" onClick={e => {\n            e.stopPropagation();\n            handleDeleteDay(date);\n          }} className=\"hover:bg-red-100 hover:text-red-600 transition-colors\">\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </CardTitle>\n          </CardHeader>\n          <AnimatePresence>\n            {expandedDate === date && <motion.div initial={{\n          height: 0,\n          opacity: 0\n        }} animate={{\n          height: \"auto\",\n          opacity: 1\n        }} exit={{\n          height: 0,\n          opacity: 0\n        }} transition={{\n          duration: 0.2\n        }}>\n                <CardContent className=\"pt-4\">\n                  {/* Egypt Section */}\n                  {getTablesForDateAndCountry(date, \"Egypt\").length > 0 && <div className=\"mb-8\">\n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <Flag className=\"h-5 w-5\" />\n                        <h3 className=\"text-lg font-semibold\">Egypt</h3>\n                      </div>\n                      <div className=\"space-y-4\">\n                        {getTablesForDateAndCountry(date, \"Egypt\").sort((a, b) => {\n                  const orderA = shiftOrder[a.shiftType] ?? 0;\n                  const orderB = shiftOrder[b.shiftType] ?? 0;\n                  return orderA - orderB;\n                }).map(shiftTable => <Card key={shiftTable.id} className={cn(\"overflow-hidden bg-gradient-to-br\", shiftDetails[shiftTable.shiftType].theme)}>\n                              <CardHeader className=\"bg-white bg-opacity-30 backdrop-blur-sm\">\n                                <CardTitle>\n                                  <div className=\"flex items-center justify-between gap-2\">\n                                    <span>{shiftTable.shiftType} Shift</span>\n                                    <Button variant=\"ghost\" size=\"sm\" onClick={e => {\n                          e.stopPropagation();\n                          handleUnarchiveTable(shiftTable.id);\n                        }} className=\"hover:bg-green-100 hover:text-green-600 transition-colors\">\n                                      <ArrowUpFromLine className=\"h-4 w-4 mr-1\" />\n                                      Unarchive\n                                    </Button>\n                                  </div>\n                                </CardTitle>\n                                <div className=\"flex flex-wrap gap-4 items-center text-sm\">\n                                  <div className=\"flex items-center gap-2\">\n                                    <User className=\"h-4 w-4\" />\n                                    <span>{shiftTable.senior}</span>\n                                  </div>\n                                  <span className=\"text-sm font-medium\">\n                                    {shiftDetails[shiftTable.shiftType].timeRange}\n                                  </span>\n                                </div>\n                              </CardHeader>\n                              <CardContent className=\"p-0\">\n                                <div className=\"overflow-x-auto\">\n                                  <Table>\n                                    <TableHeader>\n                                      <TableRow>\n                                        <TableHead className=\"w-[150px] bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-20\">Agent's Name</TableHead>\n                                        {shiftTable.timeSlots.map((slot, index) => <TableHead key={index} className=\"text-center bg-white bg-opacity-30 backdrop-blur-sm\">\n                                            {slot}\n                                          </TableHead>)}\n                                      </TableRow>\n                                    </TableHeader>\n                                    <TableBody>\n                                      {shiftTable.agents.map((agent, agentIndex) => {\n                            const isAgentSick = agent.tasks.some(task => task?.type === 'Sick');\n                            return <TableRow key={agentIndex} className={cn(isAgentSick && \"bg-gray-100\")}>\n                                            <TableCell className={cn(\"bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-10\", agent.highlight && \"bg-orange-200 bg-opacity-60\")}>\n                                              <span>{agent.name}</span>\n                                            </TableCell>\n                                            {agent.tasks.map((task, taskIndex) => <TableCell key={taskIndex} className=\"p-1\">\n                                                <div className={cn(\"w-full h-full p-2 rounded\", task ? `bg-gradient-to-r ${taskThemes[task.type]}` : \"bg-white\")}>\n                                                  {task?.type || '-'}\n                                                </div>\n                                              </TableCell>)}\n                                          </TableRow>;\n                          })}\n                                    </TableBody>\n                                  </Table>\n                                </div>\n                              </CardContent>\n                            </Card>)}\n                      </div>\n                    </div>}\n\n                  {/* Morocco Section */}\n                  {getTablesForDateAndCountry(date, \"Morocco\").length > 0 && <div>\n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <Flag className=\"h-5 w-5\" />\n                        <h3 className=\"text-lg font-semibold\">Morocco</h3>\n                      </div>\n                      <div className=\"space-y-4\">\n                        {getTablesForDateAndCountry(date, \"Morocco\").sort((a, b) => {\n                  const orderA = shiftOrder[a.shiftType] ?? 0;\n                  const orderB = shiftOrder[b.shiftType] ?? 0;\n                  return orderA - orderB;\n                }).map(shiftTable => <Card key={shiftTable.id} className={cn(\"overflow-hidden bg-gradient-to-br\", shiftDetails[shiftTable.shiftType].theme)}>\n                              <CardHeader className=\"bg-white bg-opacity-30 backdrop-blur-sm\">\n                                <CardTitle>\n                                  <div className=\"flex items-center justify-between gap-2\">\n                                    <span>{shiftTable.shiftType} Shift</span>\n                                    <Button variant=\"ghost\" size=\"sm\" onClick={e => {\n                          e.stopPropagation();\n                          handleUnarchiveTable(shiftTable.id);\n                        }} className=\"hover:bg-green-100 hover:text-green-600 transition-colors\">\n                                      <ArrowUpFromLine className=\"h-4 w-4 mr-1\" />\n                                      Unarchive\n                                    </Button>\n                                  </div>\n                                </CardTitle>\n                                <div className=\"flex flex-wrap gap-4 items-center text-sm\">\n                                  <div className=\"flex items-center gap-2\">\n                                    <User className=\"h-4 w-4\" />\n                                    <span>{shiftTable.senior}</span>\n                                  </div>\n                                  <span className=\"text-sm font-medium\">\n                                    {shiftDetails[shiftTable.shiftType].timeRange}\n                                  </span>\n                                </div>\n                              </CardHeader>\n                              <CardContent className=\"p-0\">\n                                <div className=\"overflow-x-auto\">\n                                  <Table>\n                                    <TableHeader>\n                                      <TableRow>\n                                        <TableHead className=\"w-[150px] bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-20\">Agent's Name</TableHead>\n                                        {shiftTable.timeSlots.map((slot, index) => <TableHead key={index} className=\"text-center bg-white bg-opacity-30 backdrop-blur-sm\">\n                                            {slot}\n                                          </TableHead>)}\n                                      </TableRow>\n                                    </TableHeader>\n                                    <TableBody>\n                                      {shiftTable.agents.map((agent, agentIndex) => {\n                            const isAgentSick = agent.tasks.some(task => task?.type === 'Sick');\n                            return <TableRow key={agentIndex} className={cn(isAgentSick && \"bg-gray-100\")}>\n                                            <TableCell className={cn(\"bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-10\", agent.highlight && \"bg-orange-200 bg-opacity-60\")}>\n                                              <span>{agent.name}</span>\n                                            </TableCell>\n                                            {agent.tasks.map((task, taskIndex) => <TableCell key={taskIndex} className=\"p-1\">\n                                                <div className={cn(\"w-full h-full p-2 rounded\", task ? `bg-gradient-to-r ${taskThemes[task.type]}` : \"bg-white\")}>\n                                                  {task?.type || '-'}\n                                                </div>\n                                              </TableCell>)}\n                                          </TableRow>;\n                          })}\n                                    </TableBody>\n                                  </Table>\n                                </div>\n                              </CardContent>\n                            </Card>)}\n                      </div>\n                    </div>}\n                </CardContent>\n              </motion.div>}\n          </AnimatePresence>\n        </Card>)}\n    </div>;\n}\nfunction AnalyticsView({\n  shiftTables,\n  analyticsFilters,\n  setAnalyticsFilters\n}: {\n  shiftTables: ShiftTable[];\n  analyticsFilters: {\n    startDate: string | null;\n    endDate: string | null;\n    country: 'Egypt' | 'Morocco';\n    view: string;\n  };\n  setAnalyticsFilters: (filters: any) => void;\n}) {\n  const handleFilterChange = (key: string, value: any) => {\n    setAnalyticsFilters({\n      ...analyticsFilters,\n      [key]: value\n    });\n  };\n  const timeToMinutes = (timeStr: string) => {\n    const [hours, minutes] = timeStr.split(':').map(Number);\n    return hours * 60 + minutes;\n  };\n  const calculateDuration = (startTime: string, endTime: string) => {\n    const start = timeToMinutes(startTime);\n    let end = timeToMinutes(endTime);\n\n    // If end time is less than start time, it means we've crossed midnight\n    if (end < start) {\n      end += 24 * 60; // Add 24 hours\n    }\n    return (end - start) / 60; // Convert minutes to hours\n  };\n  const calculateTaskHours = (table: ShiftTable, agent: Agent, taskType: TaskType) => {\n    if (!agent.tasks || !table.timeSlots) return 0;\n    let totalHours = 0;\n    agent.tasks.forEach((task, index) => {\n      if (task?.type === taskType && table.timeSlots[index]) {\n        const timeRange = table.timeSlots[index];\n        const [startTime, endTime] = timeRange.split('-').map(t => t.trim());\n        if (startTime && endTime) {\n          const hours = calculateDuration(startTime, endTime);\n          console.log(`${agent.name} - ${taskType} for slot ${timeRange}: ${hours} hours`);\n          if (hours > 0) {\n            totalHours += hours;\n          }\n        }\n      }\n    });\n    console.log(`Total hours for ${agent.name} - ${taskType}: ${totalHours}`);\n    return Number(totalHours.toFixed(2));\n  };\n  const calculateAnalytics = (tables: ShiftTable[], country: 'Egypt' | 'Morocco') => {\n    console.log(`Starting analytics calculation for ${country}`);\n    const filteredTables = tables.filter(table => {\n      // Base condition for valid table\n      const isValidTable = table.country === country && table.publishedTo === country;\n\n      // If no date filters, just use base condition\n      if (!analyticsFilters.startDate || !analyticsFilters.endDate) {\n        return isValidTable;\n      }\n\n      // If we have date filters, check the date range\n      const tableDate = new Date(table.date);\n      const start = new Date(analyticsFilters.startDate);\n      const end = new Date(analyticsFilters.endDate);\n      return isValidTable && tableDate >= start && tableDate <= end;\n    });\n    console.log(`Found ${filteredTables.length} valid tables for ${country}`, {\n      tables: filteredTables.map(t => ({\n        date: t.date,\n        agentCount: t.agents?.length || 0\n      }))\n    });\n    const analytics: Record<string, {\n      name: string;\n      tasks: Record<TaskType, number>;\n      breakHours: number;\n    }> = {};\n    filteredTables.forEach(table => {\n      if (!table.agents) return;\n      console.log(`Processing table: ${table.date}, Shift: ${table.shiftType}`);\n      table.agents.forEach(agent => {\n        if (!agent.name || !agent.tasks) return;\n\n        // Initialize agent analytics if not exists\n        if (!analytics[agent.name]) {\n          analytics[agent.name] = {\n            name: agent.name,\n            tasks: taskTypesByCountry[country].reduce((acc, type) => {\n              acc[type] = 0;\n              return acc;\n            }, {} as Record<TaskType, number>),\n            breakHours: 0\n          };\n        }\n\n        // Process each task\n        agent.tasks.forEach((task, index) => {\n          if (!task || !task.type || !table.timeSlots || !table.timeSlots[index]) return;\n          const timeRange = table.timeSlots[index];\n          const [startTime, endTime] = timeRange.split('-').map(t => t.trim());\n          if (startTime && endTime) {\n            const hours = calculateDuration(startTime, endTime);\n            if (hours > 0) {\n              console.log(`Adding ${hours} hours for ${agent.name} - ${task.type} (${timeRange})`);\n              analytics[agent.name].tasks[task.type] += hours;\n              if (task.type === 'Break' || task.type === 'Sick') {\n                analytics[agent.name].breakHours += hours;\n              }\n            }\n          }\n        });\n      });\n    });\n    console.log('Final analytics:', analytics);\n    return analytics;\n  };\n  const uniqueTaskTypes = Array.from(new Set(taskTypesByCountry[analyticsFilters.country]));\n  return <div className=\"container mx-auto p-4 space-y-8\" data-sentry-component=\"AnalyticsView\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n      <Card data-sentry-element=\"Card\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <CardHeader data-sentry-element=\"CardHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <CardTitle data-sentry-element=\"CardTitle\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Analytics</CardTitle>\n          <CardDescription data-sentry-element=\"CardDescription\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">View work hours by agent and task type</CardDescription>\n        </CardHeader>\n        <CardContent data-sentry-element=\"CardContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <div className=\"space-y-4\">\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <div>\n                <Label data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Country</Label>\n                <Select value={analyticsFilters.country} onValueChange={(value: 'Egypt' | 'Morocco') => handleFilterChange('country', value)} data-sentry-element=\"Select\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <SelectTrigger data-sentry-element=\"SelectTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                    <SelectValue data-sentry-element=\"SelectValue\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n                  </SelectTrigger>\n                  <SelectContent data-sentry-element=\"SelectContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                    <SelectItem value=\"Egypt\" data-sentry-element=\"SelectItem\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Egypt</SelectItem>\n                    <SelectItem value=\"Morocco\" data-sentry-element=\"SelectItem\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Morocco</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div>\n                <Label data-sentry-element=\"Label\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Filter Type</Label>\n                <Select value={analyticsFilters.view} onValueChange={(value: 'all-time' | 'date-range') => handleFilterChange('view', value)} data-sentry-element=\"Select\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <SelectTrigger data-sentry-element=\"SelectTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                    <SelectValue data-sentry-element=\"SelectValue\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n                  </SelectTrigger>\n                  <SelectContent data-sentry-element=\"SelectContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                    <SelectItem value=\"all-time\" data-sentry-element=\"SelectItem\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">All Time</SelectItem>\n                    <SelectItem value=\"date-range\" data-sentry-element=\"SelectItem\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Date Range</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {analyticsFilters.view === 'date-range' && <div className=\"flex flex-col sm:flex-row gap-4\">\n                <div>\n                  <Label>Start Date</Label>\n                  <Input type=\"date\" value={analyticsFilters.startDate || ''} onChange={e => handleFilterChange('startDate', e.target.value)} />\n                </div>\n                <div>\n                  <Label>End Date</Label>\n                  <Input type=\"date\" value={analyticsFilters.endDate || ''} onChange={e => handleFilterChange('endDate', e.target.value)} />\n                </div>\n              </div>}\n          </div>\n\n          <div className=\"mt-6 overflow-x-auto\">\n            <Table data-sentry-element=\"Table\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              <TableHeader data-sentry-element=\"TableHeader\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                <TableRow data-sentry-element=\"TableRow\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                  <TableHead className=\"bg-white sticky left-0\" data-sentry-element=\"TableHead\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Agent Name</TableHead>\n                  {uniqueTaskTypes.map(type => <TableHead key={type} className=\"text-center\">\n                      {type}\n                    </TableHead>)}\n                  <TableHead className=\"text-center\" data-sentry-element=\"TableHead\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Total Hours</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody data-sentry-element=\"TableBody\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n                {Object.values(calculateAnalytics(shiftTables, analyticsFilters.country)).map(agent => {\n                const totalHours = uniqueTaskTypes.reduce((sum, type) => sum + agent.tasks[type], 0);\n                return <TableRow key={agent.name}>\n                      <TableCell className=\"bg-white sticky left-0 font-medium\">\n                        {agent.name}\n                      </TableCell>\n                      {uniqueTaskTypes.map(type => <TableCell key={type} className=\"text-center\">\n                          {Number(agent.tasks[type]).toFixed(1)}\n                        </TableCell>)}\n                      <TableCell className=\"text-center\">\n                        {Number(totalHours).toFixed(1)}\n                      </TableCell>\n                    </TableRow>;\n              })}\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n    </div>;\n}\nfunction getGreeting() {\n  const hour = new Date().getHours();\n  if (hour >= 5 && hour < 12) return \"Good Morning\";\n  if (hour >= 12 && hour < 17) return \"Good Afternoon\";\n  if (hour >= 17 && hour < 22) return \"Good Evening\";\n  return \"Good Night\";\n}\nconst motivationalMessages = [\"Transform your ideas into perfect schedules!\", \"Ready to make today amazing?\", \"Let's organize your day efficiently!\", \"Create schedules that work for everyone!\", \"Make scheduling simple and effective!\"];\nfunction getRandomMessage() {\n  const messages = ['Transform your ideas into perfect schedules!', 'Ready to make today amazing?', 'Let\\'s organize your day efficiently!', 'Create schedules that work for everyone!', 'Make scheduling simple and effective!'];\n\n  // Get current hour to use as seed\n  const currentHour = new Date().getHours();\n  // Use hour as index to ensure same message during the hour\n  return messages[currentHour % messages.length];\n}\n;\nexport default function ModernScheduleMaker() {\n  const [shiftTables, setShiftTables] = useState<ShiftTable[]>([]);\n  const [publishedTables, setPublishedTables] = useState<ShiftTable[]>([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [activeTab, setActiveTab] = useState<'admin' | 'egypt' | 'morocco' | 'archive' | 'analytics'>('admin');\n\n  // Load saved tab from localStorage\n  useEffect(() => {\n    const savedTab = localStorage.getItem('activeTab');\n    if (savedTab) {\n      setActiveTab(savedTab as 'admin' | 'egypt' | 'morocco' | 'archive' | 'analytics');\n    }\n  }, []);\n\n  // Save tab to localStorage when it changes\n  useEffect(() => {\n    localStorage.setItem('activeTab', activeTab);\n  }, [activeTab]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [motivationalMessage, setMotivationalMessage] = useState('Welcome to Schedule Maker');\n  const [activeCountries, setActiveCountries] = useClientActiveCountries();\n  const [pendingChanges, setPendingChanges] = useState(0);\n  const [lastNotificationTime, setLastNotificationTime] = useState(0);\n  const NOTIFICATION_COOLDOWN = 5000; // 5 seconds cooldown between notifications\n\n  const showNotification = useCallback((message: string, type: 'success' | 'error' = 'success') => {\n    const now = Date.now();\n    if (now - lastNotificationTime > NOTIFICATION_COOLDOWN) {\n      if (type === 'success') {\n        toast.success(message);\n      } else {\n        toast.error(message);\n      }\n      setLastNotificationTime(now);\n    }\n  }, [lastNotificationTime]);\n  const [syncStatus, setSyncStatus] = useState<'synced' | 'syncing' | 'error'>('synced');\n  const [lastSyncTime, setLastSyncTime] = useState<Date | null>(null);\n  const updateTablesAndSync = async (newTables: ShiftTable[], showToast: boolean = false) => {\n    try {\n      setSyncStatus('syncing');\n\n      // Update local states immediately\n      setShiftTables(newTables);\n      const newPublished = newTables.filter(table => !table.isArchived && !table.isDeleted && (table.publishedTo === 'Egypt' || table.publishedTo === 'Morocco'));\n      setPublishedTables(newPublished);\n\n      // Save to Firebase\n      await saveShiftTables(newTables);\n      setSyncStatus('synced');\n      setLastSyncTime(new Date());\n      if (showToast) {\n        toast.success('Changes saved successfully');\n      }\n    } catch (error) {\n      console.error('Error updating tables:', error);\n      setSyncStatus('error');\n      toast.error('Failed to save changes');\n      throw error;\n    }\n  };\n  const getStatusColor = () => {\n    switch (syncStatus) {\n      case 'synced':\n        return 'text-green-500';\n      case 'syncing':\n        return 'text-yellow-500';\n      case 'error':\n        return 'text-red-500';\n      default:\n        return 'text-gray-500';\n    }\n  };\n  const getStatusIcon = () => {\n    switch (syncStatus) {\n      case 'synced':\n        return <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n          </svg>;\n      case 'syncing':\n        return <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n          </svg>;\n      case 'error':\n        return <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>;\n    }\n  };\n  const getStatusText = () => {\n    switch (syncStatus) {\n      case 'synced':\n        return `Synced${lastSyncTime ? ` at ${lastSyncTime.toLocaleTimeString()}` : ''}`;\n      case 'syncing':\n        return 'Syncing...';\n      case 'error':\n        return 'Sync failed';\n      default:\n        return 'Unknown status';\n    }\n  };\n  const SyncStatusIndicator = () => {\n    return <div className=\"flex items-center space-x-2 text-sm\" data-sentry-component=\"SyncStatusIndicator\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n        <span className={`flex items-center ${getStatusColor()}`}>\n          {getStatusIcon()}\n        </span>\n        <span className={`${getStatusColor()} hidden sm:inline`}>{getStatusText()}</span>\n      </div>;\n  };\n\n  // Function to load all tables from Firestore\n  const loadAllTables = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const tables = await loadShiftTables();\n      const migratedTables = migrateMoroccoTasks(tables);\n      setShiftTables(migratedTables);\n      const published = migratedTables.filter(table => !table.isArchived && !table.isDeleted && (table.publishedTo === 'Egypt' || table.publishedTo === 'Morocco'));\n      setPublishedTables(published);\n    } catch (error) {\n      console.error('Error loading tables:', error);\n      toast.error('Failed to load tables');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [setShiftTables, setPublishedTables, toast]);\n\n  // Add migration function for Morocco tasks\n  const migrateMoroccoTasks = (tables: ShiftTable[]): ShiftTable[] => {\n    return tables.map(table => {\n      if (table.country !== 'Morocco') return table;\n      const migratedAgents: Agent[] = table.agents.map(agent => ({\n        ...agent,\n        tasks: agent.tasks.map(task => {\n          if (!task) return null;\n\n          // Type assertion to ensure we're working with a TaskType\n          const taskType = task.type as TaskType;\n          return {\n            ...task,\n            type: taskType\n          };\n        })\n      }));\n      return {\n        ...table,\n        agents: migratedAgents\n      };\n    });\n  };\n\n  // Initialize active tab from localStorage after mount\n  useEffect(() => {\n    // Load tables regardless of login status for public views\n    loadAllTables();\n  }, [loadAllTables]);\n\n  // Function to update both states instantly and sync with Firestore\n  const handlePublishTable = async (id: string) => {\n    try {\n      const table = shiftTables.find(t => t.id === id);\n      if (!table) return;\n      const updatedTables = shiftTables.map(table => table.id === id ? {\n        ...table,\n        publishedTo: table.publishedTo ? null : table.country\n      } : table);\n      await updateTablesAndSync(updatedTables);\n    } catch (error) {\n      console.error('Error publishing table:', error);\n      toast.error('Failed to publish table');\n    }\n  };\n  const handleArchiveTable = async (id: string) => {\n    if (!id) {\n      console.error('Invalid table ID provided to handleArchiveTable');\n      return;\n    }\n    try {\n      // First confirm if user wants to archive\n      const confirmArchive = window.confirm('Are you sure you want to archive this shift table?');\n      if (!confirmArchive) return;\n\n      // Then prompt for password\n      const password = window.prompt('Please enter the password to archive:');\n      if (password !== 'admin@') {\n        toast.error('Incorrect password. Action cancelled.');\n        return;\n      }\n      const updatedTables: ShiftTable[] = shiftTables.map(table => ({\n        ...table,\n        publishedTo: table.id === id ? table.country : table.publishedTo\n      }));\n      await updateTablesAndSync(updatedTables);\n      const targetTable = shiftTables.find(t => t.id === id);\n      if (targetTable) {\n        toast.success(`Table published to ${targetTable.country}`);\n      }\n    } catch (error) {\n      console.error('Error archiving table:', error);\n      toast.error('Failed to archive table');\n    }\n  };\n  const updateAgentTask = async (tableId: string, agentIndex: number, taskIndex: number, taskType: TaskType) => {\n    try {\n      const updatedTables = shiftTables.map(table => {\n        if (table.id === tableId) {\n          const updatedAgents = [...table.agents];\n          if (!updatedAgents[agentIndex].tasks) {\n            updatedAgents[agentIndex].tasks = [];\n          }\n          updatedAgents[agentIndex].tasks[taskIndex] = {\n            type: taskType\n          };\n          return {\n            ...table,\n            agents: updatedAgents\n          };\n        }\n        return table;\n      });\n      await updateTablesAndSync(updatedTables);\n    } catch (error) {\n      console.error('Error updating agent task:', error);\n      toast.error('Failed to update task');\n    }\n  };\n  const updateAgentName = async (tableId: string, agentIndex: number, name: string) => {\n    try {\n      const updatedTables = shiftTables.map(table => {\n        if (table.id === tableId) {\n          const updatedAgents = [...table.agents];\n          if (!updatedAgents[agentIndex]) {\n            updatedAgents[agentIndex] = {\n              name,\n              tasks: []\n            };\n          } else {\n            updatedAgents[agentIndex] = {\n              ...updatedAgents[agentIndex],\n              name\n            };\n          }\n          return {\n            ...table,\n            agents: updatedAgents\n          };\n        }\n        return table;\n      });\n      await updateTablesAndSync(updatedTables);\n    } catch (error) {\n      console.error('Error updating agent name:', error);\n      toast.error('Failed to update agent');\n    }\n  };\n  const removeShiftTable = async (id: string) => {\n    if (!id) return;\n    try {\n      // Find the table to be deleted\n      const tableToDelete = shiftTables.find(table => table.id === id);\n      if (!tableToDelete) {\n        toast.error('Table not found');\n        return;\n      }\n\n      // First backup the table\n      await saveDeletedTable(tableToDelete);\n\n      // Then mark as deleted\n      const updatedTables = shiftTables.map(table => table.id === id ? {\n        ...table,\n        isDeleted: true\n      } : table);\n      await updateTablesAndSync(updatedTables);\n      toast.success('Table deleted successfully');\n    } catch (error) {\n      console.error('Error deleting table:', error);\n      toast.error('Failed to delete table');\n    }\n  };\n\n  // Get published tables for a specific country\n  const getPublishedTables = (country: 'Egypt' | 'Morocco') => {\n    return publishedTables.filter(table => table.publishedTo === country);\n  };\n\n  // Handle tab changes and persist to localStorage\n  const handleTabChange = (value: string) => {\n    const newTab = value as 'admin' | 'egypt' | 'morocco' | 'archive' | 'analytics';\n    setActiveTab(newTab);\n    localStorage.setItem('activeTab', newTab);\n    // Reload tables when switching tabs\n    loadAllTables();\n  };\n\n  // Save active countries whenever they change\n  useEffect(() => {\n    localStorage.setItem('activeCountries', JSON.stringify(activeCountries));\n  }, [activeCountries, setActiveCountries]);\n\n  // Check session status on component mount\n  useEffect(() => {\n    const checkSession = () => {\n      const sessionExpiry = localStorage.getItem('sessionExpiry');\n      if (sessionExpiry) {\n        const expiryTime = parseInt(sessionExpiry);\n        if (Date.now() < expiryTime) {\n          setIsLoggedIn(true);\n          const newExpiryTime = Date.now() + 86400000;\n          localStorage.setItem('sessionExpiry', newExpiryTime.toString());\n        } else {\n          setIsLoggedIn(false);\n          localStorage.removeItem('sessionExpiry');\n        }\n      }\n    };\n    checkSession();\n    const interval = setInterval(checkSession, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  const handleLogin = () => {\n    const expiryTime = Date.now() + 86400000;\n    localStorage.setItem('sessionExpiry', expiryTime.toString());\n    setIsLoggedIn(true);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('sessionExpiry');\n    setIsLoggedIn(false);\n  };\n  const [analyticsFilters, setAnalyticsFilters] = useClientAnalyticsFilters();\n  useEffect(() => {\n    localStorage.setItem('analyticsFilters', JSON.stringify(analyticsFilters));\n  }, [analyticsFilters]);\n  useEffect(() => {\n    localStorage.setItem('activeTab', activeTab);\n  }, [activeTab]);\n  useEffect(() => {\n    localStorage.setItem('activeCountries', JSON.stringify(activeCountries));\n  }, [activeCountries]);\n  useEffect(() => {\n    localStorage.setItem('analyticsFilters', JSON.stringify(analyticsFilters));\n  }, [analyticsFilters]);\n  return <div className=\"relative min-h-screen\" data-sentry-component=\"ModernScheduleMaker\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n      {/* Loading overlay */}\n      {isLoading && <div className=\"fixed inset-0 bg-white/50 backdrop-blur-sm z-50 flex items-center justify-center\">\n          <div className=\"flex flex-col items-center gap-4\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n            <p className=\"text-lg font-medium text-primary animate-pulse\">Loading your schedules...</p>\n          </div>\n        </div>}\n\n      {/* Saving indicator */}\n      {isSaving && <div className=\"fixed top-4 right-4 bg-primary/10 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center gap-2 z-50\">\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary\"></div>\n          <span className=\"text-sm font-medium text-primary\">Saving changes...</span>\n        </div>}\n\n      {isLoggedIn && <Button variant=\"ghost\" size=\"sm\" onClick={handleLogout} className=\"absolute top-4 right-4 flex items-center gap-2 hover:bg-red-100 hover:text-red-600 transition-colors\">\n          <LogOut className=\"h-4 w-4\" />\n          Logout\n        </Button>}\n      <div className=\"container mx-auto p-4\">\n        <div className=\"mb-6 text-center\">\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent animate-gradient\">\n            {getGreeting()} 👋\n          </h1>\n          <p className=\"mt-2 text-lg text-gray-600 animate-fade-in\">\n            {motivationalMessage}\n          </p>\n        </div>\n        <div className=\"flex justify-between items-center mb-4\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Schedule Maker</h1>\n          <SyncStatusIndicator data-sentry-element=\"SyncStatusIndicator\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n        </div>\n        <Tabs value={activeTab} className=\"space-y-4\" onValueChange={handleTabChange} data-sentry-element=\"Tabs\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n          <TabsList className=\"grid w-full grid-cols-5\" data-sentry-element=\"TabsList\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <TabsTrigger value=\"admin\" data-sentry-element=\"TabsTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              {isLoggedIn ? 'Admin' : <LogOut className=\"h-4 w-4\" />}\n            </TabsTrigger>\n            <TabsTrigger value=\"analytics\" disabled={!isLoggedIn} data-sentry-element=\"TabsTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              {isLoggedIn ? 'Analytics' : <LogOut className=\"h-4 w-4\" />}\n            </TabsTrigger>\n            <TabsTrigger value=\"archive\" disabled={!isLoggedIn} data-sentry-element=\"TabsTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n              {isLoggedIn ? 'Archive' : <LogOut className=\"h-4 w-4\" />}\n            </TabsTrigger>\n            <TabsTrigger value=\"egypt\" data-sentry-element=\"TabsTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Egypt</TabsTrigger>\n            <TabsTrigger value=\"morocco\" data-sentry-element=\"TabsTrigger\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">Morocco</TabsTrigger>\n          </TabsList>\n          <TabsContent value=\"admin\" data-sentry-element=\"TabsContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            {isLoggedIn ? <AdminView shiftTables={shiftTables} setShiftTables={setShiftTables} publishedTables={publishedTables} setPublishedTables={setPublishedTables} updateTablesAndSync={updateTablesAndSync} activeCountries={activeCountries} setActiveCountries={setActiveCountries} /> : <LoginForm onLogin={handleLogin} />}\n          </TabsContent>\n          <TabsContent value=\"analytics\" data-sentry-element=\"TabsContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            {isLoggedIn && <AnalyticsView shiftTables={shiftTables} analyticsFilters={analyticsFilters} setAnalyticsFilters={setAnalyticsFilters} />}\n          </TabsContent>\n          <TabsContent value=\"archive\" data-sentry-element=\"TabsContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            {isLoggedIn && <ArchiveView shiftTables={shiftTables} setShiftTables={setShiftTables} updateTablesAndSync={updateTablesAndSync} />}\n          </TabsContent>\n          <TabsContent value=\"egypt\" data-sentry-element=\"TabsContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <PublishedView shiftTables={getPublishedTables('Egypt')} country=\"Egypt\" data-sentry-element=\"PublishedView\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n          </TabsContent>\n          <TabsContent value=\"morocco\" data-sentry-element=\"TabsContent\" data-sentry-source-file=\"ModernScheduleMaker.tsx\">\n            <PublishedView shiftTables={getPublishedTables('Morocco')} country=\"Morocco\" data-sentry-element=\"PublishedView\" data-sentry-source-file=\"ModernScheduleMaker.tsx\" />\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>;\n}"],"names":["cn","inputs","twMerge","clsx","buttonVariants","cva","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","React","ref","className","asChild","props","Comp","Slot","displayName","Card","div","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","Tabs","TabsPrimitive","TabsList","TabsTrigger","TabsContent","Input","type","input","labelVariants","Label","LabelPrimitive","Select","SelectPrimitive","SelectValue","SelectTrigger","children","ChevronDown","SelectScrollUpButton","ChevronUp","SelectScrollDownButton","SelectContent","position","SelectItem","span","Check","Switch","SwitchPrimitives","Table","table","TableHeader","thead","TableBody","tbody","tfoot","TableRow","tr","TableHead","th","TableCell","td","caption","Dialog","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","DialogContent","X","DialogHeader","data-sentry-component","data-sentry-source-file","DialogFooter","DialogTitle","DialogDescription","badgeVariants","Badge","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","initializeFirestore","cacheSizeBytes","CACHE_SIZE_UNLIMITED","enableIndexedDbPersistence","catch","err","code","console","log","COLLECTION_NAME","DOCUMENT_ID","AGENTS_COLLECTION","AGENTS_DOCUMENT","saveToFirestore","data","collectionName","documentId","docRef","doc","runTransaction","transaction","docSnap","get","exists","currentData","currentTables","Map","tables","map","id","forEach","set","Array","from","values","lastModified","serverTimestamp","mergedData","mergeData","newData","newTables","error","loadFromFirestore","getDoc","cleanData","saveAgents","agents","loadAgents","Egypt","Morocco","saveShiftTables","loadShiftTables","filter","isDeleted","shiftDetails","timeRange","timeSlots","theme","shiftOrder","taskTypesByCountry","taskThemes","initialAgents","LoginForm","onLogin","username","setUsername","useState","password","setPassword","setError","isLoading","setIsLoading","handleSubmit","e","preventDefault","data-sentry-element","form","onSubmit","htmlFor","value","onChange","target","disabled","required","p","LogOut","AdminView","shiftTables","setShiftTables","publishedTables","setPublishedTables","updateTablesAndSync","activeCountries","setActiveCountries","newShiftType","setNewShiftType","splitInterval","setSplitInterval","splitIntervalInput","setSplitIntervalInput","previewTimeSlots","setPreviewTimeSlots","splitWarning","setSplitWarning","setAgents","newAgentName","setNewAgentName","newAgentCountry","setNewAgentCountry","selectedDate","setSelectedDate","Date","toISOString","split","newSeniorName","setNewSeniorName","confirmDialogOpen","setConfirmDialogOpen","confirmAction","setConfirmAction","savedTables","setSavedTables","saveTable","find","prev","toast","success","handleSplitIntervalChange","useCallback","parseFloat","isNaN","generateTimeSlots","length","interval","shiftType","start","end","shiftRanges","currentTime","endTime","Math","min","startHour","floor","startMinutes","round","endHour","endMinutes","startStr","toString","padStart","endStr","push","handleShiftTypeChange","useEffect","loadSavedAgents","savedAgents","Object","keys","addAgent","updatedTables","tableId","newAgent","name","tasks","fill","deleteAgent","agentIndex","updatedAgents","splice","updateAgentName","agentName","getAvailableAgents","country","includes","newAgents","updateAgentTask","taskIndex","taskType","publishTable","tableToPublish","publishedTo","unpublishTable","addNewAgent","trim","tablesByDate","isArchived","reduce","acc","date","handleCountryChange","newActiveCountries","localStorage","setItem","JSON","stringify","tableCountry","savedCountries","getItem","parse","loadTempChanges","tempTablesStr","tempTables","isArray","addNewShiftTable","selectedCountry","newTable","crypto","randomUUID","senior","manuallyUnarchived","shifts","Morning","Day","Afternoon","Evening","Night","handleConfirmAction","openConfirmDialog","checked","onCheckedChange","placeholder","onValueChange","onClick","entries","Calendar","toLocaleDateString","weekday","year","month","day","shiftTable","Globe","CheckCircle2","Save","aria-label","Trash2","Archive","User","slot","index","agent","isAgentSick","some","task","highlight","_","Plus","step","max","Clock","svg","xmlns","viewBox","path","fillRule","d","clipRule","open","onOpenChange","PublishedView","sort","a","b","dateComparison","getTime","ArchiveView","expandedDate","setExpandedDate","archivedDates","Set","toggleExpand","handleUnarchiveTable","window","confirmUnarchive","confirm","prompt","handleDeleteDay","confirmDelete","updatedShiftTables","getTablesForDateAndCountry","h2","stopPropagation","AnimatePresence","motion","initial","height","opacity","animate","exit","transition","duration","Flag","h3","orderA","ArrowUpFromLine","AnalyticsView","analyticsFilters","setAnalyticsFilters","handleFilterChange","key","timeToMinutes","hours","minutes","timeStr","Number","calculateDuration","startTime","view","startDate","endDate","uniqueTaskTypes","calculateAnalytics","filteredTables","isValidTable","tableDate","t","agentCount","analytics","breakHours","totalHours","sum","toFixed","ModernScheduleMaker","isLoggedIn","setIsLoggedIn","activeTab","setActiveTab","savedTab","isSaving","setIsSaving","motivationalMessage","setMotivationalMessage","useClientActiveCountries","defaultCountries","pendingChanges","setPendingChanges","lastNotificationTime","setLastNotificationTime","message","now","NOTIFICATION_COOLDOWN","syncStatus","setSyncStatus","lastSyncTime","setLastSyncTime","showToast","newPublished","getStatusColor","getStatusIcon","stroke","strokeLinecap","strokeLinejoin","strokeWidth","getStatusText","toLocaleTimeString","loadAllTables","migratedTables","migrateMoroccoTasks","published","migratedAgents","getPublishedTables","checkSession","sessionExpiry","expiryTime","parseInt","newExpiryTime","removeItem","setInterval","clearInterval","useClientAnalyticsFilters","filters","setFilters","defaultFilters","savedFilters","handleLogout","h1","getGreeting","hour","getHours","SyncStatusIndicator","handleTabChange","newTab","handleLogin"],"sourceRoot":""}