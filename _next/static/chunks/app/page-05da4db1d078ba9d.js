(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1802:(e,a,s)=>{Promise.resolve().then(s.bind(s,512))},512:(e,a,s)=>{"use strict";s.d(a,{default:()=>eb});var t=s(5155),l=s(2115),r=s(5683),i=s(6899),n=s(2317),d=s(652),o=s(3463),c=s(9795);function h(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,c.QP)((0,o.$)(a))}let m=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,a)=>{let{className:s,variant:l,size:r,asChild:i=!1,...d}=e,o=i?n.DX:"button";return(0,t.jsx)(o,{className:h(m({variant:l,size:r,className:s})),ref:a,...d})});x.displayName="Button";let u=l.forwardRef((e,a)=>{let{className:s,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:h("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});u.displayName="Input";var p=s(6195);let f=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(p.b,{ref:a,className:h(f(),s),...l})});g.displayName=p.b.displayName;let j=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:h("w-full caption-bottom text-sm",s),...l})})});j.displayName="Table";let b=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("thead",{ref:a,className:h("[&_tr]:border-b",s),...l})});b.displayName="TableHeader";let y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tbody",{ref:a,className:h("[&_tr:last-child]:border-0",s),...l})});y.displayName="TableBody",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tfoot",{ref:a,className:h("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...l})}).displayName="TableFooter";let N=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tr",{ref:a,className:h("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...l})});N.displayName="TableRow";let v=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("th",{ref:a,className:h("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...l})});v.displayName="TableHead";let w=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("td",{ref:a,className:h("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...l})});w.displayName="TableCell",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("caption",{ref:a,className:h("mt-4 text-sm text-muted-foreground",s),...l})}).displayName="TableCaption";var A=s(2515),k=s(1719),M=s(1902),C=s(8867);let S=A.bL;A.YJ;let E=A.WT,R=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(A.l9,{ref:a,className:h("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[l,(0,t.jsx)(A.In,{asChild:!0,children:(0,t.jsx)(k.A,{className:"h-4 w-4 opacity-50"})})]})});R.displayName=A.l9.displayName;let T=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.PP,{ref:a,className:h("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})});T.displayName=A.PP.displayName;let z=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.wn,{ref:a,className:h("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(k.A,{className:"h-4 w-4"})})});z.displayName=A.wn.displayName;let L=l.forwardRef((e,a)=>{let{className:s,children:l,position:r="popper",...i}=e;return(0,t.jsx)(A.ZL,{children:(0,t.jsxs)(A.UC,{ref:a,className:h("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,t.jsx)(T,{}),(0,t.jsx)(A.LM,{className:h("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(z,{})]})})});L.displayName=A.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.JU,{ref:a,className:h("px-2 py-1.5 text-sm font-semibold",s),...l})}).displayName=A.JU.displayName;let P=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(A.q7,{ref:a,className:h("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(A.VF,{children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})}),(0,t.jsx)(A.p4,{children:l})]})});P.displayName=A.q7.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.wv,{ref:a,className:h("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=A.wv.displayName;var F=s(6217),D=s(767);let H=F.bL,I=F.l9,O=F.ZL;F.bm;let V=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.hJ,{ref:a,className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});V.displayName=F.hJ.displayName;let _=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(O,{children:[(0,t.jsx)(V,{}),(0,t.jsxs)(F.UC,{ref:a,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[l,(0,t.jsxs)(F.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(D.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});_.displayName=F.UC.displayName;let U=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:h("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};U.displayName="DialogHeader";let Y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.hE,{ref:a,className:h("text-lg font-semibold leading-none tracking-tight",s),...l})});Y.displayName=F.hE.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.VY,{ref:a,className:h("text-sm text-muted-foreground",s),...l})}).displayName=F.VY.displayName;let B=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:h("rounded-xl border bg-card text-card-foreground shadow",s),...l})});B.displayName="Card";let J=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:h("flex flex-col space-y-1.5 p-6",s),...l})});J.displayName="CardHeader";let K=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:h("font-semibold leading-none tracking-tight",s),...l})});K.displayName="CardTitle",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:h("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let Z=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:h("p-6 pt-0",s),...l})});Z.displayName="CardContent",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:h("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter";var q=s(910);let G=q.bL,W=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.B8,{ref:a,className:h("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...l})});W.displayName=q.B8.displayName;let Q=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.l9,{ref:a,className:h("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...l})});Q.displayName=q.l9.displayName;let X=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.UC,{ref:a,className:h("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l})});X.displayName=q.UC.displayName;var $=s(6352);let ee=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)($.bL,{ref:a,className:h("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...l,children:(0,t.jsx)($.C1,{className:h("flex items-center justify-center text-current"),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})})});ee.displayName=$.bL.displayName;var ea=s(8686),es=s(6122),et=s(6764),el=s(7780),er=s(5686),ei=s(1466),en=s(3473),ed=s(6709),eo=s(2423);let ec={Morning:{timeRange:"8 AM to 4 PM",slots:["8h to 9h","9h to 10h","10h to 11h","11h to 12h","12h to 13h","13h to 14h","14h to 15h","15h to 16h"],theme:"from-yellow-100 to-orange-100"},Day:{timeRange:"4 PM to 12 AM",slots:["16h to 17h","17h to 18h","18h to 19h","19h to 20h","20h to 21h","21h to 22h","22h to 23h","23h to 00h"],theme:"from-green-100 to-emerald-100"},Afternoon:{timeRange:"12 PM to 8 PM",slots:["12h to 13h","13h to 14h","14h to 15h","15h to 16h","16h to 17h","17h to 18h","18h to 19h","19h to 20h"],theme:"from-blue-100 to-cyan-100"},Evening:{timeRange:"8 PM to 4 AM",slots:["20h to 21h","21h to 22h","22h to 23h","23h to 00h","00h to 01h","01h to 02h","02h to 03h","03h to 04h"],theme:"from-purple-100 to-pink-100"},Night:{timeRange:"12 AM to 8 AM",slots:["00h to 01h","01h to 02h","02h to 03h","03h to 04h","04h to 05h","05h to 06h","06h to 07h","07h to 08h"],theme:"from-gray-100 to-slate-200"}},eh=["Chat","Emails","All tasks","All tasks/Chat assist"],em={Chat:"from-emerald-200 to-teal-200",Emails:"from-amber-200 to-yellow-200","All tasks":"from-rose-200 to-pink-200","All tasks/Chat assist":"from-violet-200 to-purple-200"},ex={Morocco:["Yasser Marrou","Mariem Abdelhakmi","Zaynab Adil","Meryem Mazroui","Mohammad Aznague","Achraf Tazi","Mohamed Elhachmi","Mohamed ougrni","Kenza Abbadi","Marouan Bajbouji","Hamza Sahraoui","Nouhaila Essalih","Nada Bennis","Anis Boujmil"],Egypt:["Eman Anwer","Noura Emam","Mai Tarek Kamell Hessen","Abdelhamid Khamis","Ahmad Gamal Anwer","Ahmad Sobhy","Ahmed Moustafa","Omnia Ahmed","Mohammed Hamdy","Ahmed Mohamed Ahmed","Abdulrahman Sayed Gomaa Mohamed","Ibrahim Zaki","Amira Tarek Taher Megahed","Esraa Osama","Sara Mourad Wahba Mikhael","Mahmoud Aataf","Rawan AbdElbast","Abdelaziz","Mohamed Ali","Moaz Yousef","Eslam Nasser","Asmaa Gamal Kamel","Yasmine Tarek","Asmaa Mohamed Zawam","Nouran Ramdan","Eman Mohsen","Mohamed Osama","Eslam Mohammed El Sayed Awad","Shreif Abdrabo","Michael Magdy","Mohamedd Essam","Sara Abdelrazek","Ahmed Osama","Hesham Adawy","Sameh Adel Farah Ahmed","Mohamed Mostafa Isawi Ali","Mayan","Amr Nady","Abdulhamid Mostafa","Fatima","Youmna Yousef","Heba Raafat","Mahmoud Gamil abdelaziz","Kareem abubakr","Alaa Elsayed","Rahma Hassan Abdelrahman","Ahmed Shaaban"]};function eu(e){let{onLogin:a}=e,[s,r]=(0,l.useState)(""),[i,n]=(0,l.useState)(""),[d,o]=(0,l.useState)("");return(0,t.jsxs)(B,{className:"w-[350px] mx-auto mt-8",children:[(0,t.jsx)(J,{children:(0,t.jsx)(K,{className:"text-2xl font-bold text-center",children:"Admin Login"})}),(0,t.jsx)(Z,{children:(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),"admin"===s&&"Thinkdiffrent@123369"===i){let e=new Date().getTime()+432e5;localStorage.setItem("loginExpiration",e.toString()),a()}else o("Invalid username or password")},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g,{htmlFor:"username",children:"Username"}),(0,t.jsx)(u,{id:"username",type:"text",value:s,onChange:e=>r(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g,{htmlFor:"password",children:"Password"}),(0,t.jsx)(u,{id:"password",type:"password",value:i,onChange:e=>n(e.target.value),required:!0})]}),d&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d}),(0,t.jsxs)(x,{type:"submit",className:"w-full",children:[(0,t.jsx)(ea.A,{className:"mr-2 h-4 w-4"})," Login"]})]})})]})}function ep(e){let{shiftTables:a,setShiftTables:s}=e,[n,d]=(0,l.useState)("Morning"),[o,c]=(0,l.useState)({Egypt:!0,Morocco:!1}),[m,p]=(0,l.useState)(ex),[f,A]=(0,l.useState)(""),[k,M]=(0,l.useState)("Egypt"),C=()=>{s([...a,{id:Date.now().toString(),date:new Date().toISOString().split("T")[0],senior:"",shiftType:n,timeSlots:ec[n].slots,agents:[],isLocked:!1,publishedTo:null,isArchived:!1}])},T=e=>{s(a.filter(a=>a.id!==e))},z=(e,t,l)=>{s(a.map(a=>a.id===e?{...a,[t]:l}:a))},F=e=>{s(a.map(a=>{if(a.id===e){let e={name:"",tasks:Array(a.timeSlots.length).fill(null)};return{...a,agents:[...a.agents,e]}}return a}))},D=(e,t,l)=>{s(a.map(a=>{if(a.id===e){let e=[...a.agents];return e[t]={...e[t],name:l},{...a,agents:e}}return a}))},O=(e,t,l,r)=>{s(a.map(a=>{if(a.id===e){let e=[...a.agents];return e[t].tasks[l]={type:r},{...a,agents:e}}return a}))},V=e=>{s(a.map(a=>a.id===e?{...a,isLocked:!a.isLocked}:a))},q=e=>{let t=o.Egypt?"Egypt":"Morocco";s(a.map(a=>a.id===e?{...a,publishedTo:t,isLocked:!0}:a))},G=e=>{s(a.map(a=>a.id===e?{...a,publishedTo:null}:a))},W=e=>{s(a.map(a=>a.date===e?{...a,isArchived:!0}:a))},Q=e=>{let s=new Set(a.filter(a=>a.date===e&&!a.isArchived).map(e=>e.shiftType));return s.has("Morning")&&s.has("Night")},X=a.filter(e=>!e.isArchived).reduce((e,a)=>(e[a.date]||(e[a.date]=[]),e[a.date].push(a),e),{}),$=e=>{c(a=>{let s={...a,[e]:!a[e]};return s.Egypt&&s.Morocco?"Egypt"===e?{Egypt:!0,Morocco:!1}:{Egypt:!1,Morocco:!0}:s})};return(0,t.jsxs)("div",{className:"container mx-auto p-4 space-y-8",children:[(0,t.jsx)(B,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(g,{className:"text-sm font-medium",children:"Active Country:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ee,{id:"egypt-checkbox",checked:o.Egypt,onCheckedChange:()=>$("Egypt")}),(0,t.jsx)("label",{htmlFor:"egypt-checkbox",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Egypt"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ee,{id:"morocco-checkbox",checked:o.Morocco,onCheckedChange:()=>$("Morocco")}),(0,t.jsx)("label",{htmlFor:"morocco-checkbox",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Morocco"})]})]})]}),(0,t.jsxs)(H,{children:[(0,t.jsx)(I,{asChild:!0,children:(0,t.jsx)(x,{variant:"outline",children:"Add New Agent"})}),(0,t.jsxs)(_,{children:[(0,t.jsx)(U,{children:(0,t.jsx)(Y,{children:"Add New Agent"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{htmlFor:"new-agent-name",children:"Agent Name"}),(0,t.jsx)(u,{id:"new-agent-name",value:f,onChange:e=>A(e.target.value),placeholder:"Enter agent name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{htmlFor:"new-agent-country",children:"Country"}),(0,t.jsxs)(S,{value:k,onValueChange:e=>M(e),children:[(0,t.jsx)(R,{children:(0,t.jsx)(E,{placeholder:"Select country"})}),(0,t.jsxs)(L,{children:[(0,t.jsx)(P,{value:"Egypt",children:"Egypt"}),(0,t.jsx)(P,{value:"Morocco",children:"Morocco"})]})]})]}),(0,t.jsx)(x,{onClick:()=>{f&&k&&(p(e=>({...e,[k]:[...e[k],f]})),A(""))},children:"Add Agent"})]})]})]})]})}),(0,t.jsx)(r.N,{children:Object.entries(X).map(e=>{let[a,s]=e;return(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.5},className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:a}),s.map(e=>(0,t.jsxs)(B,{className:h("overflow-hidden bg-gradient-to-br",ec[e.shiftType].theme),children:[(0,t.jsxs)(J,{className:"bg-white bg-opacity-30 backdrop-blur-sm",children:[(0,t.jsxs)(K,{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{children:[e.shiftType," Shift"]}),(0,t.jsxs)("div",{className:"space-x-2",children:[e.publishedTo?(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>G(e.id),children:"Unpublish"}):(0,t.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>q(e.id),children:[(0,t.jsx)(es.A,{className:"mr-2 h-4 w-4"})," Publish"]}),(0,t.jsx)(x,{variant:"outline",size:"icon",onClick:()=>V(e.id),"aria-label":e.isLocked?"Edit schedule":"Save schedule",children:e.isLocked?(0,t.jsx)(et.A,{className:"h-4 w-4"}):(0,t.jsx)(el.A,{className:"h-4 w-4"})}),(0,t.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>T(e.id),"aria-label":"Remove shift table",children:(0,t.jsx)(er.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"h-4 w-4"}),e.isLocked?(0,t.jsx)("span",{children:e.senior}):(0,t.jsx)(u,{type:"text",value:e.senior,onChange:a=>z(e.id,"senior",a.target.value),placeholder:"Senior name",className:"w-40"})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:ec[e.shiftType].timeRange})]})]}),(0,t.jsxs)(Z,{className:"p-0",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(j,{children:[(0,t.jsx)(b,{children:(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{className:"w-[150px] bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-20",children:"Agent's Name"}),e.timeSlots.map((e,a)=>(0,t.jsx)(v,{className:"text-center bg-white bg-opacity-30 backdrop-blur-sm",children:e},a))]})}),(0,t.jsx)(y,{children:e.agents.map((a,s)=>(0,t.jsxs)(N,{children:[(0,t.jsx)(w,{className:h("bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-10",a.highlight&&"bg-orange-200 bg-opacity-60"),children:e.isLocked?(0,t.jsx)("span",{children:a.name}):(0,t.jsxs)(S,{value:a.name,onValueChange:a=>D(e.id,s,a),children:[(0,t.jsx)(R,{className:"w-full",children:(0,t.jsx)(E,{placeholder:"Select agent"})}),(0,t.jsx)(L,{children:m[o.Egypt?"Egypt":"Morocco"].map(e=>(0,t.jsx)(P,{value:e,children:e},e))})]})}),a.tasks.map((a,l)=>(0,t.jsx)(w,{className:"p-1",children:e.isLocked?(0,t.jsx)("div",{className:h("w-full h-full p-2 rounded",a?"bg-gradient-to-r ".concat(em[a.type]):"bg-white"),children:(null==a?void 0:a.type)||"-"}):(0,t.jsxs)(S,{value:(null==a?void 0:a.type)||"",onValueChange:a=>O(e.id,s,l,a),children:[(0,t.jsx)(R,{className:h("w-full h-full border-0 focus:ring-0",a?"bg-gradient-to-r ".concat(em[a.type]):"bg-white"),children:(0,t.jsx)(E,{placeholder:"Select task"})}),(0,t.jsx)(L,{children:eh.map(e=>(0,t.jsx)(P,{value:e,children:e},e))})]})},l))]},s))})]})}),!e.isLocked&&(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)(x,{onClick:()=>F(e.id),variant:"outline",className:"w-full",children:[(0,t.jsx)(en.A,{className:"mr-2 h-4 w-4"})," Add Agent"]})})]})]},e.id)),Q(a)&&(0,t.jsx)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:(0,t.jsx)(x,{variant:"outline",size:"lg",onClick:()=>W(a),className:"mt-4 mx-auto block w-full max-w-md bg-gradient-to-r from-purple-400 to-pink-500 text-white hover:from-purple-500 hover:to-pink-600 transition-all duration-300 transform hover:scale-105",children:(0,t.jsxs)("div",{className:"flex items-center justify-center w-full font-bold",children:[(0,t.jsx)(ed.A,{className:"mr-2 h-5 w-5"}),(0,t.jsx)("span",{children:"Archive Day"})]})})})]},a)})}),(0,t.jsxs)(H,{children:[(0,t.jsx)(I,{asChild:!0,children:(0,t.jsxs)(x,{className:"mt-4 w-full",children:[(0,t.jsx)(en.A,{className:"mr-2 h-4 w-4"})," Add New Shift Table"]})}),(0,t.jsxs)(_,{children:[(0,t.jsx)(U,{children:(0,t.jsx)(Y,{children:"Select Shift Type"})}),(0,t.jsxs)(S,{value:n,onValueChange:e=>d(e),children:[(0,t.jsx)(R,{children:(0,t.jsx)(E,{placeholder:"Select shift type"})}),(0,t.jsx)(L,{children:Object.keys(ec).map(e=>(0,t.jsxs)(P,{value:e,children:[e," (",ec[e].timeRange,")"]},e))})]}),(0,t.jsx)(x,{onClick:()=>{C()},children:"Create Shift Table"})]})]})]})}function ef(e){let{shiftTables:a,country:s}=e,l=a.filter(e=>e.publishedTo===s&&!e.isArchived);return(0,t.jsxs)("div",{className:"container mx-auto p-4 space-y-8",children:[l.map(e=>(0,t.jsxs)(B,{className:h("overflow-hidden bg-gradient-to-br",ec[e.shiftType].theme),children:[(0,t.jsxs)(J,{className:"bg-white bg-opacity-30 backdrop-blur-sm",children:[(0,t.jsxs)(K,{children:[e.shiftType," Shift"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eo.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.date})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.senior})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:ec[e.shiftType].timeRange})]})]}),(0,t.jsx)(Z,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(j,{children:[(0,t.jsx)(b,{children:(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{className:"w-[150px] bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-20",children:"Agent's Name"}),e.timeSlots.map((e,a)=>(0,t.jsx)(v,{className:"text-center bg-white bg-opacity-30 backdrop-blur-sm",children:e},a))]})}),(0,t.jsx)(y,{children:e.agents.map((e,a)=>(0,t.jsxs)(N,{children:[(0,t.jsx)(w,{className:h("bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-10",e.highlight&&"bg-orange-200 bg-opacity-60"),children:(0,t.jsx)("span",{children:e.name})}),e.tasks.map((e,a)=>(0,t.jsx)(w,{className:"p-1",children:(0,t.jsx)("div",{className:h("w-full h-full p-2 rounded",e?"bg-gradient-to-r ".concat(em[e.type]):"bg-white"),children:(null==e?void 0:e.type)||"-"})},a))]},a))})]})})})]},e.id)),0===l.length&&(0,t.jsxs)("div",{className:"text-center text-gray-500",children:["No published schedules for ",s]})]})}function eg(e){let{shiftTables:a}=e,[s,r]=(0,l.useState)("Egypt"),[i,n]=(0,l.useState)(""),[d,o]=(0,l.useState)(""),[c,h]=(0,l.useState)("all-time"),m=(e=>{let s={};return a.forEach(a=>{a.publishedTo===e&&("all-time"===c||"date-range"===c&&(!i||a.date>=i)&&(!d||a.date<=d))&&a.agents.forEach(e=>{s[e.name]||(s[e.name]={Chat:0,Emails:0,"All tasks":0,"All tasks/Chat assist":0}),e.tasks.forEach(a=>{a&&(s[e.name][a.type]+=1)})})}),s})(s);return(0,t.jsxs)("div",{className:"container mx-auto p-4 space-y-8",children:[(0,t.jsxs)(B,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Analytics"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(S,{value:s,onValueChange:e=>r(e),children:[(0,t.jsx)(R,{className:"w-[180px]",children:(0,t.jsx)(E,{placeholder:"Select country"})}),(0,t.jsxs)(L,{children:[(0,t.jsx)(P,{value:"Egypt",children:"Egypt"}),(0,t.jsx)(P,{value:"Morocco",children:"Morocco"})]})]}),(0,t.jsxs)(S,{value:c,onValueChange:e=>h(e),children:[(0,t.jsx)(R,{className:"w-[180px]",children:(0,t.jsx)(E,{placeholder:"Select filter type"})}),(0,t.jsxs)(L,{children:[(0,t.jsx)(P,{value:"date-range",children:"Date Range"}),(0,t.jsx)(P,{value:"all-time",children:"All Time"})]})]})]})]}),"date-range"===c&&(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{htmlFor:"start-date",children:"Start Date"}),(0,t.jsx)(u,{id:"start-date",type:"date",value:i,onChange:e=>n(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{htmlFor:"end-date",children:"End Date"}),(0,t.jsx)(u,{id:"end-date",type:"date",value:d,onChange:e=>o(e.target.value)})]})]})]}),(0,t.jsxs)(B,{children:[(0,t.jsx)(J,{children:(0,t.jsxs)(K,{children:["Agent Work Hours - ",s]})}),(0,t.jsx)(Z,{children:(0,t.jsxs)(j,{children:[(0,t.jsx)(b,{children:(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{children:"Agent Name"}),(0,t.jsx)(v,{children:"Chat"}),(0,t.jsx)(v,{children:"Emails"}),(0,t.jsx)(v,{children:"All tasks"}),(0,t.jsx)(v,{children:"All tasks/Chat assist"}),(0,t.jsx)(v,{children:"Total Hours"})]})}),(0,t.jsx)(y,{children:Object.entries(m).map(e=>{let[a,s]=e;return(0,t.jsxs)(N,{children:[(0,t.jsx)(w,{children:a}),(0,t.jsx)(w,{children:s.Chat}),(0,t.jsx)(w,{children:s.Emails}),(0,t.jsx)(w,{children:s["All tasks"]}),(0,t.jsx)(w,{children:s["All tasks/Chat assist"]}),(0,t.jsx)(w,{children:Object.values(s).reduce((e,a)=>e+a,0)})]},a)})})]})})]})]})}function ej(e){let{shiftTables:a}=e,[s,n]=(0,l.useState)(null),d=[...new Set(a.filter(e=>e.isArchived).map(e=>e.date))],o=e=>{n(s===e?null:e)};return(0,t.jsxs)("div",{className:"container mx-auto p-4 space-y-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Archived Schedules"}),d.map(e=>(0,t.jsxs)(B,{className:"overflow-hidden",children:[(0,t.jsx)(J,{className:"cursor-pointer bg-gray-100 hover:bg-gray-200 transition-colors",onClick:()=>o(e),children:(0,t.jsxs)(K,{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{children:e}),s===e?(0,t.jsx)(M.A,{className:"h-4 w-4"}):(0,t.jsx)(k.A,{className:"h-4 w-4"})]})}),(0,t.jsx)(r.N,{children:s===e&&(0,t.jsx)(i.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:(0,t.jsx)(Z,{children:a.filter(a=>a.date===e&&a.isArchived).map(e=>(0,t.jsxs)(B,{className:h("mt-4 overflow-hidden bg-gradient-to-br",ec[e.shiftType].theme),children:[(0,t.jsxs)(J,{className:"bg-white bg-opacity-30 backdrop-blur-sm",children:[(0,t.jsxs)(K,{children:[e.shiftType," Shift"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.senior})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:ec[e.shiftType].timeRange})]})]}),(0,t.jsx)(Z,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(j,{children:[(0,t.jsx)(b,{children:(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{className:"w-[150px] bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-20",children:"Agent's Name"}),e.timeSlots.map((e,a)=>(0,t.jsx)(v,{className:"text-center bg-white bg-opacity-30 backdrop-blur-sm",children:e},a))]})}),(0,t.jsx)(y,{children:e.agents.map((e,a)=>(0,t.jsxs)(N,{children:[(0,t.jsx)(w,{className:h("bg-white bg-opacity-30 backdrop-blur-sm sticky left-0 z-10",e.highlight&&"bg-orange-200 bg-opacity-60"),children:(0,t.jsx)("span",{children:e.name})}),e.tasks.map((e,a)=>(0,t.jsx)(w,{className:"p-1",children:(0,t.jsx)("div",{className:h("w-full h-full p-2 rounded",e?"bg-gradient-to-r ".concat(em[e.type]):"bg-white"),children:(null==e?void 0:e.type)||"-"})},a))]},a))})]})})})]},e.id))})})})]},e)),0===d.length&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"No archived schedules"})]})}function eb(){let[e,a]=(0,l.useState)([]),[s,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("loginExpiration");e&&new Date().getTime()<parseInt(e)?r(!0):(r(!1),localStorage.removeItem("loginExpiration"))};e();let a=setInterval(e,6e4);return()=>clearInterval(a)},[]),(0,t.jsxs)(G,{defaultValue:"admin",className:"w-full",children:[(0,t.jsxs)(W,{className:"grid w-full grid-cols-5",children:[(0,t.jsx)(Q,{value:"admin",children:"Admin"}),(0,t.jsx)(Q,{value:"analytics",disabled:!s,children:s?"Analytics":(0,t.jsx)(ea.A,{className:"h-4 w-4"})}),(0,t.jsx)(Q,{value:"archive",disabled:!s,children:s?"Archive":(0,t.jsx)(ea.A,{className:"h-4 w-4"})}),(0,t.jsx)(Q,{value:"egypt",children:"Egypt"}),(0,t.jsx)(Q,{value:"morocco",children:"Morocco"})]}),(0,t.jsx)(X,{value:"admin",children:s?(0,t.jsx)(ep,{shiftTables:e,setShiftTables:a}):(0,t.jsx)(eu,{onLogin:()=>{r(!0)}})}),(0,t.jsx)(X,{value:"analytics",children:s&&(0,t.jsx)(eg,{shiftTables:e})}),(0,t.jsx)(X,{value:"archive",children:s&&(0,t.jsx)(ej,{shiftTables:e})}),(0,t.jsx)(X,{value:"egypt",children:(0,t.jsx)(ef,{shiftTables:e,country:"Egypt"})}),(0,t.jsx)(X,{value:"morocco",children:(0,t.jsx)(ef,{shiftTables:e,country:"Morocco"})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[737,441,517,358],()=>a(1802)),_N_E=e.O()}]);